"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5f46720c-b3c6-5a73-a746-6f190228c27a")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[4463],{331221:(e,t,r)=>{r.d(t,{x:()=>i,z:()=>n});let n={CREATED:"ADD",MODIFIED:"MOD",REMOVED:"DEL"},i={CREATED:"+",MODIFIED:"\u2732",CHILD_MODIFIED:"\u21B5",REMOVED:"-"}},885456:(e,t,r)=>{r.d(t,{E:()=>c});var n=r(966664),i=r(396353),s=r(258600),a=r(640855),l=r(726113),o=r(235307);class c extends l.R{constructor(e,t,r){super(e,t,r),this.id=e,this.nodeChange=t,this.scene=r}get parent(){return this.parentGuid?this.scene.getNodeByGuid(this.parentGuid):null}get children(){return this.scene.getChildrenByParentGuid(this.guid)}get type(){return this.isState?"STATE":super.type}get otherVersions(){if(!this.isSubscribedAsset)return[];let e=this.scene.internalCanvas;if(!e)return[];let t=this.key;return t?e.children.filter(e=>e.type==e.type&&e.key===t&&e.id!=e.id):[]}get consumedStyles(){return this.consumedStyleIds.map(e=>this.scene.getStyleByStyleId(e)).filter(n.Vq)}get consumedVariables(){return this.consumedVariableIds.map(e=>this.scene.getVariableByVariableId(e)).filter(n.Vq)}get internalOnly(){return this.nodeChange.internalOnly||this.parent?.internalOnly||!1}get stateGroupId(){return this.isStateGroup?this._assetId(i.GU):this.isSymbol?this.parent?.stateGroupId??null:null}get backingSymbol(){let e=this.backingSymbolId;return e?this.scene.getNodeByGuid(e):null}get backingStateGroup(){let e=this.backingSymbol;if(!e)return null;let t=e.parent;return t&&t.isStateGroup?t:null}get absoluteTransform(){let e=this.transform,t=this.parent?.absoluteTransform;if(!e||!t)return s.s.identity().toFigMatrix();{let r=s.s.fromFigMatrix(t);return r.multiply(s.s.fromFigMatrix(e)),r.toFigMatrix()}}get containingSymbol(){return this.findAncestor(e=>e.isSymbol)}get containingPage(){return this.findAncestor(e=>e.isPage)}get isState(){return this.isSymbol&&!!this.parent?.isStateGroup}get isPrimaryInstance(){return this.isInstance}get isLooseComponent(){return this.isSymbol&&!this.isState}get isProductComponent(){return this.isStateGroup||this.isLooseComponent}get isInternalOnly(){return this.someAncestor(e=>!!e.nodeChange.internalOnly,{includeSelf:!0})}getFriendlyVariableModeString(e){if(!this.isVariableCollection)return"";let t=a.c1.fromKiwi(e),r=this.nodeChange.variableSetModes?.find(e=>e.id&&a.c1.fromKiwi(e.id)===t);return r?`${r.name} (${t})`:`<missing mode> (${t})`}get variableDependenciesByModeId(){if(!this.isVariable)return{};let e={},t=this.scene,r=t.getVariableCollectionByCollectionId(this.variableCollectionId);return this.nodeChange.variableDataValues?.entries?.forEach(n=>{if(n.modeID){let s=r?.getFriendlyVariableModeString(n.modeID)??a.c1.fromKiwi(n.modeID);e[s]=[],function r(n,s){if(s?.dataType==="ALIAS")!function(r,n){if(!n?.value?.alias)return;let s=i.sD.fromKiwi(n.value.alias);if(!s)return;let a=t.getVariableByVariableId(s);a&&e[r].push(a)}(n,s);else if(s?.dataType==="EXPRESSION")!function(e,t){for(let n of t?.value?.expressionValue?.expressionArguments??[])r(e,n)}(n,s);else if(s?.dataType==="MAP")return function(e,t){for(let n of t?.value?.mapValue?.values??[])r(e,n.value)}(n,s)}(s,n.variableData)}}),e}generateDisplayProperties(){let e=super.generateDisplayProperties(),t=this.containingPage,r=e.rightBadges;return null!=this.parent||this.isDocument||r.push({type:"error",value:"Orphan"}),{...e,longName:t?`${t.displayProperties.name} > ${this.name}`:this.name,rightBadges:r}}generateDimensionalInfoItem(){let e=super.generateDimensionalInfoItem();return null==e?null:(0,o.Sv)(e,[this.absoluteTransform&&this.generatePositionItem("Absolute position",this.absoluteTransform)])}generateDesignSystemsInfoItem(){return(0,o.Sv)(super.generateDesignSystemsInfoItem(),[this.isPrimaryInstance&&this.backingStateGroup&&this.scene.generateNodeLinkItem("Backing state group",this.backingStateGroup.guid),this.isStyle&&this.styleId&&(0,o.$7)({label:"Style consumers",list:this.scene.getStyleConsumers(this.styleId),generateChild:(e,t)=>this.scene.generateNodeLinkItem(e,t.guid)}),this.isVariable&&this.variableId&&(0,o.$7)({label:"Variable consumers",list:this.scene.getVariableConsumers(this.variableId),generateChild:(e,t)=>this.scene.generateNodeLinkItem(e,t.guid)}),this.isVariableCollection&&this.variableCollectionId&&(0,o.$7)({label:"Nodes with explicit mode",list:this.scene.getNodesWithExplicitModeForVariableSet(this.variableCollectionId),generateChild:(e,t)=>this.scene.generateNodeLinkItem(e,t.guid)}),this.isAsset&&(0,o.$7)({label:"Other versions",list:this.otherVersions,generateChild:(e,t)=>this.scene.generateNodeLinkItem(e,t.guid)}),this.isVariable&&this.variableCollectionId&&this.scene.generateVariableCollectionLinkItem("Variable collection",this.variableCollectionId),this.isVariableCollection&&this.variableCollectionId&&(0,o.$7)({label:"Variables in collection",list:this.scene.getVariablesInCollection(this.variableCollectionId),generateChild:(e,t)=>this.scene.generateNodeLinkItem(e,t.guid)})])}}},2685:(e,t,r)=>{r.d(t,{y:()=>n});let n=Symbol("Blobs not supported.")},602881:(e,t,r)=>{if(r.d(t,{TZ:()=>o,YY:()=>i,iC:()=>l,nP:()=>a,nd:()=>s,tP:()=>c}),443==r.j)var n=r(235307);let i=new Set(["USER","PLUGIN","AI","REST_API"]);function s(e,t){return Number(i.has(t.type))-Number(i.has(e.type))}let a={MIXED:"MIXED",USER:"USER",PLUGIN:"PLGIN",AI:"AI",INVALID:"INVLD",SYSTEM:"SYSTM",TEST_SETUP:"TEST",REST_API:"REST",ONBOARDING:"ONBRD",AUTOSAVE:"ASAVE"};function l(e){let t=[];for(let r of e?.snapshots??[])for(let e of r.frames??[])for(let r of e.stack??[])t.push(r);return t.sort(s)}function o(e){let t="INVALID";for(let r of e)if(r.type&&"INVALID"!==r.type){if("INVALID"===t)t=r.type;else if(t!==r.type){t="MIXED";break}}return{type:"editType",value:t}}class c{constructor(e){this.fieldNamesByFieldNumber=function(e){let t=new Map,r=e.definitions.find(e=>"NodeChange"===e.name);if(!r)return console.error("Couldn't find NodeChange definition in schema"),t;for(let e of r.fields)t.set(e.value,e.name);return t}(e)}generateEditScopeItems(e){let{editScopeInfo:t,aiEditedNodeChangeFieldNumbers:r}=e;return(0,n.QB)([t?.snapshots&&this.generateEditScopeSnapshotsItem(t.snapshots),r&&this.generateAiEditedNodeFieldsItem(r)])}generateEditScopeSnapshotsItem(e){return(0,n.$7)({label:"Edit Scope Snapshots",list:e,generateChild:(e,t)=>t.nodeChangeFieldNumbers?{label:e,children:[(0,n.$7)({label:"Frames",list:t.frames??[],generateChild:(e,t)=>this.generateEditScopeSnapshotFrameItem(e,t),expandByDefault:!0}),(0,n.$7)({label:"Fields",list:t.nodeChangeFieldNumbers??[],generateChild:(e,t)=>this.generateFieldItem(e,t),expandByDefault:!0})],expandByDefault:!0}:(0,n.$7)({label:e,list:t.frames??[],generateChild:(e,t)=>this.generateEditScopeSnapshotFrameItem(e,t),expandByDefault:!0}),expandByDefault:!0})}generateAiEditedNodeFieldsItem(e){return(0,n.$7)({label:"AI Edited Fields",list:e||[],expandByDefault:!0,generateChild:(e,t)=>this.generateFieldItem(e,t)})}generateEditScopeSnapshotFrameItem(e,t){return(0,n.$7)({label:e,list:t.stack??[],generateChild:(e,t)=>(0,n.B_)(e,{type:"editScope",value:t}),expandByDefault:!0})}generateFieldItem(e,t){let r=this.fieldNamesByFieldNumber.get(t);return(0,n.B_)(e,r?{type:"nonUserText",value:r}:{type:"error",value:`Unknown field number ${t}`})}}},640855:(e,t,r)=>{r.d(t,{SW:()=>n,c1:()=>i,dB:()=>s,r4:()=>l});var n,i,s,a=r(572304);function l(e,t){let r=t.toGuidStrIfLocal(e);if(r)return i.format(r);let n=t.toRefIfSubscribed(e);return n?`${n.key.slice(0,5)}...${n.key.slice(-5)}/${n.version}`:e}(n||(n={})).fromString=function(e){return e},(e=>{e.fromString=function(e){return e},e.fromKiwi=function(e){return a.dI(e)},e.format=function(e){return`(${e})`},e.isValid=function(e){return a.fn(a.sH(e))}})(i||(i={})),(e=>{e.fromKiwi=function(e){return e.guids?.map(i.fromKiwi)??[]},e.fromStrings=function(e){return e},e.format=function(e){return`[${e.map(i.format).join(", ")}]`},e.isValid=function(e){return e.length>0&&e.every(i.isValid)}})(s||(s={}))},761518:(e,t,r)=>{r.d(t,{I6:()=>d,Si:()=>g,Tj:()=>c,U9:()=>h,jJ:()=>o,pb:()=>u,zN:()=>m});var n=r(461816),i=r.n(n);let s=()=>!0;function a(e){return Array.isArray(e)?e:[e]}function l(e,t){return"parent"===t?[e.parent]:e.children}function o(e,t,r,{includeSelf:n,shouldSkipAfter:s,shouldBreakAfter:c}={}){let d=a(e),u=n?[...d]:i()(d,e=>l(e,t));for(;;){let e=u.pop();if(!e||(r(e),c?.(e)))return;if(!s?.(e))for(let r of l(e,t))u.push(r)}}function c(e,t,r,n={}){let i=[];return o(e,t,e=>i.push(r(e)),n),i}function d(e,t,r,{includeSelf:n,shouldSkipAfter:i,shouldBreakAfter:s}={}){let a;return o(e,t,e=>{r(e)&&(a=e)},{includeSelf:n,shouldSkipAfter:i,shouldBreakAfter:e=>null!=a||s?.(e)||!1}),a}function u(e,t,r,n={}){let i=[];return o(e,t,e=>{r(e)&&i.push(e)},n),i}function h(e,t,r=s,n={}){let i=0;return o(e,t,e=>{r(e)&&i++},n),i}function m(e,t,r,n={}){return null!=d(a(e),t,r,n)}function g(e,t,r,n={}){return!m(a(e),t,e=>!r(e),n)}},726113:(e,t,r)=>{r.d(t,{R:()=>p});var n=r(140593),i=r(543509),s=r(396353),a=r(177131),l=r(618056),o=r(416095),c=r(640855),d=r(632857),u=r(79674),h=r(397565),m=r(235307),g=r(40963);class p extends u.s{constructor(e,t,r){super(e),this.id=e,this.nodeChange=t,this.scene=r,t.guid||console.error("Node is missing guid",t)}get name(){return(0,g.bU)(this.nodeChange.name??"",this.scene.resource.sensitiveTextPolicy)}get text(){return(0,g.bU)(this.nodeChange.textData?.characters??"",this.scene.resource.sensitiveTextPolicy)}get guidObj(){return this.nodeChange.guid??{localID:-1,sessionID:-1}}get guid(){return c.c1.fromKiwi(this.guidObj)}get parentGuid(){let e=this.nodeChange.parentIndex?.guid;return e?c.c1.fromKiwi(e):null}get nodeType(){return this.nodeChange.type||"NONE"}get type(){let e=this.nodeType;if("INSTANCE"===e)return"PRIMARY_INSTANCE";if("VARIABLE_SET"===e)return"VARIABLE_COLLECTION";if(this.isStateGroup)return"STATE_GROUP";if(this.isStyle){let e=this.nodeChange.styleType;switch(e){case"FILL":return"FILL_STYLE";case"STROKE":return"STROKE_STYLE";case"TEXT":return"TEXT_STYLE";case"EFFECT":return"EFFECT_STYLE";case"EXPORT":return"EXPORT_STYLE";case"GRID":return"GRID_STYLE";default:(0,n.j)(e)}}else if("FRAME"===e&&this.nodeChange.resizeToFit)return"GROUP";return e}get overrideKey(){let e=this.nodeChange.overrideKey;return e?c.c1.fromKiwi(e):null}get key(){return(0,a.sg)(this.nodeChange.key??this.nodeChange.componentKey??(this.nodeChange.sharedStyleMasterData?.styleKey||this.nodeChange.sharedStyleReference?.styleKey||null))}get version(){return(0,a.Xf)(this.nodeChange.version??this.nodeChange.sharedSymbolVersion??null)}get assetRef(){return a.iU.fromKiwi({key:this.key??void 0,version:this.version??void 0})}_assetId(e){return this.isSubscribedAsset?this.assetRef?e.fromRef(this.assetRef):null:e.fromLocalNodeIdStr(this.guid)}get symbolId(){return this.isSymbol?this._assetId(s.Ws):null}get stateGroupId(){return this.isStateGroup?this._assetId(s.GU):null}get styleId(){return this.isStyle?this._assetId(s.PK):null}get variableId(){return this.isVariable?this._assetId(s.sD):null}get variableCollectionId(){return this.isVariableCollection?this._assetId(s.gr):this.isVariable&&this.nodeChange.variableSetID?s.gr.fromKiwi(this.nodeChange.variableSetID):null}get responsiveSetAssetId(){return this.isResponsiveSetAsset?this._assetId(s.cd):null}get codeComponentId(){return this.isCodeComponentAsset?this._assetId(s._H):null}get codeFileId(){return this.isCodeFileAsset?this._assetId(s.Tq):null}get codeLibraryId(){return this.isCodeLibraryAsset?this._assetId(s.eJ):null}get publishId(){let e=this.nodeChange.publishID;return e?c.c1.fromKiwi(e):null}get isRenderingNode(){return!this.isDocument&&!this.isCanvas&&!this.isStyle&&!this.isVariable&&!this.isVariableCollection&&!this.isVariableOverride}get isInstance(){return"INSTANCE"===this.nodeType}get isSymbol(){return"SYMBOL"===this.nodeType}get isStateGroup(){return"FRAME"===this.nodeType&&null!=this.nodeChange.isStateGroup}get isComponentish(){return this.isSymbol||this.isStateGroup}get isStyle(){return this.nodeChange.styleType&&o.og.indexOf(this.nodeChange.styleType)>-1}get isVariable(){return"VARIABLE"===this.nodeType}get isVariableCollection(){return this.isRootVariableCollection||this.isExtendedVariableCollection}get isRootVariableCollection(){return!!("VARIABLE_SET"===this.nodeType&&!this.nodeChange.backingVariableSetId)}get isExtendedVariableCollection(){return!!("VARIABLE_SET"===this.nodeType&&this.nodeChange.backingVariableSetId)}get isVariableOverride(){return"VARIABLE_OVERRIDE"===this.nodeType}get isResponsiveSetAsset(){return"RESPONSIVE_SET"===this.nodeType}get isCodeComponentAsset(){return"CODE_COMPONENT"===this.nodeType}get isCodeFileAsset(){return"CODE_FILE"===this.nodeType}get isCodeLibraryAsset(){return"CODE_LIBRARY"===this.nodeType}get isAsset(){return this.isSymbol||this.isStateGroup||this.isStyle||this.isVariable||this.isVariableCollection||this.isVariableOverride||this.isResponsiveSetAsset||this.isCodeComponentAsset||this.isCodeFileAsset||this.isCodeLibraryAsset}get isLocalAsset(){return this.isAsset&&!this.isSubscribedAsset}get isSubscribedAsset(){return this.isComponentish?null!=this.nodeChange.sourceLibraryKey:this.isStyle?this.nodeChange.key&&this.nodeChange.version:(!!this.isVariable||!!this.isVariableCollection||!!this.isResponsiveSetAsset||!!this.isCodeComponentAsset)&&!!this.nodeChange.key}get isStack(){return null!=this.nodeChange.stackMode&&"NONE"!==this.nodeChange.stackMode}get isCanvas(){return"CANVAS"===this.nodeChange.type}get isPage(){return this.isCanvas}get isDocument(){return"DOCUMENT"===this.nodeChange.type}get backingSymbolId(){let e=this.nodeChange.overriddenSymbolID??this.nodeChange.symbolData?.symbolID;return e?c.c1.fromKiwi(e):null}get transform(){return this.nodeChange.transform}get isImmutableFrame(){let e=this.nodeType;return"STICKY"===e||"SHAPE_WITH_TEXT"===e||"CONNECTOR"===e||"CODE_BLOCK"===e||"MEDIA"===e||"SECTION_OVERLAY"===e||"TABLE"===e}get overridesList(){return this.nodeChange.symbolData?.symbolOverrides??[]}get dsdList(){return this.nodeChange.derivedSymbolData??[]}get immutableFrameSublayerOverridesList(){return this.nodeChange.nodeGenerationData?.overrides??[]}get difdList(){return this.nodeChange.derivedImmutableFrameData?.overrides??[]}get imageHashes(){let e=[],t=t=>{t?.hash&&e.push((0,l.qg)(t))},r=e=>{t(e.image),t(e.imageThumbnail),t(e.animatedImage)},n=e=>{if(e)for(let t of e)r(t)};n(this.nodeChange.fillPaints),n(this.nodeChange.strokePaints),n(this.nodeChange.backgroundPaints),n(this.nodeChange.widgetHoverStyle?.fillPaints),n(this.nodeChange.widgetHoverStyle?.strokePaints);let i=t=>{t&&e.push(t)};return i(this.nodeChange.embedData?.thumbnailImageHash),i(this.nodeChange.embedData?.faviconImageHash),i(this.nodeChange.linkPreviewData?.thumbnailImageHash),i(this.nodeChange.linkPreviewData?.faviconImageHash),i(this.nodeChange.richMediaData?.mediaHash),e}get consumedStyleIds(){let e=[];function t(t){for(let r of d.GP){let n=t[r];if(n){let t=s.PK.fromKiwi(n);t&&e.push(t)}}}for(let e of(t(this.nodeChange),this.nodeChange.symbolData?.symbolOverrides??[]))t(e);for(let e of this.nodeChange.textData?.styleOverrideTable??[])t(e);for(let e of this.nodeChange.vectorData?.styleOverrideTable??[])t(e);for(let e of this.nodeChange.nodeGenerationData?.overrides??[])t(e);return e}get consumedVariableIds(){let e=new Set;function t(t){if(!t)return;let r=s.sD.fromKiwi(t);r&&e.add(r)}for(let e of d.EI)!function(e){for(let r of e??[])t(r.colorVar?.value?.alias)}(this.nodeChange[e]);for(let e of this.nodeChange.variableConsumptionMap?.entries??[])t(e.variableData?.value?.alias),e.variableData?.value?.expressionValue&&function e(r){for(let n of r.expressionArguments??[])t(n.value?.alias),n.value?.expressionValue&&e(n.value.expressionValue)}(e.variableData.value.expressionValue);return[...e.values()]}generateTrackingInfoItem(){return null}generateRawProperties(){return this.scene.generateNodeChangeItems(this.nodeChange)}generateDisplayProperties(){let e=[];return this.isStack&&e.push({type:"info",value:"Stack"}),{leftBadges:[{type:"type",value:this.type}],primaryId:c.c1.format(this.guid),secondaryId:this.overrideKey?c.c1.format(this.overrideKey):null,name:this.name,longName:this.name,rightBadges:e,memoryFraction:null}}generateSearchProperties(){return{id:this.id,guid:this.guid,type:[this.type,this.nodeType,h.uy[this.type]],parentGuid:this.parentGuid,overrideKey:this.overrideKey,backingSymbolId:this.backingSymbolId,publishId:this.publishId,consumedStyleIds:this.consumedStyleIds.map(s.PK.toString),name:this.name,field:Object.keys(this.nodeChange),text:this.text,key:this.key,version:this.version,imageHashes:this.imageHashes,symbolId:this.symbolId,stateGroupId:this.stateGroupId,styleId:this.styleId,variableId:this.variableId,variableCollectionId:this.variableCollectionId,codeComponentId:this.codeComponentId,codeFileId:this.codeFileId,codeLibraryId:this.codeLibraryId}}generateComputedProperties(){return(0,m.QB)([this.generateDimensionalInfoItem(),this.generateDesignSystemsInfoItem(),this.generateFigJamInfoItem(),this.generateTrackingInfoItem()])}generateDimensionalInfoItem(){if(!this.isRenderingNode)return null;let e=this.nodeChange.size;return{label:"Dimensional info",children:(0,m.QB)([e&&(0,m.B_)("Width",{type:"numeric",value:e.x}),e&&(0,m.B_)("Height",{type:"numeric",value:e.y}),this.transform&&this.generatePositionItem("Relative position",this.transform)])}}generateDesignSystemsInfoItem(){let e=this.isAsset,t=this.isInstance,r=e?this.key:void 0,n=e?this.version:void 0;return{label:"Design systems info",children:(0,m.QB)([e&&(0,m.B_)("Asset publish type",{type:"nonUserText",value:this.isSubscribedAsset?"Subscribed":"Local"}),r&&(0,m.B_)("Asset key",{type:"nonUserText",value:r,sensitive:!1}),n&&(0,m.B_)("Asset version",{type:"nonUserText",value:n,sensitive:!1}),(0,m.$7)({label:"Consumed variables",list:this.consumedVariableIds,generateChild:this.scene.generateVariableLinkItem}),(0,m.$7)({label:"Consumed styles",list:this.consumedStyleIds,generateChild:this.scene.generateStyleLinkItem}),t&&this.scene.generateNodeLinkItem("Backing symbol",this.backingSymbolId),t&&this.generateOverridesListItem("Instance overrides",this.overridesList),t&&this.generateOverridesListItem("Derived symbol data",this.dsdList)])}}generateFigJamInfoItem(){let e=this.isImmutableFrame;return{label:"FigJam info",children:(0,m.QB)([e&&this.generateOverridesListItem("Overrides",this.immutableFrameSublayerOverridesList),e&&this.generateOverridesListItem("Derived immutable frame data",this.difdList)])}}generateOverridesListItem(e,t){return{label:e,children:[...t].sort((e,t)=>(function(e,t){let r=e.guids??[],n=t.guids??[];for(let e=0;e<Math.min(r.length,n.length);e++){let t=r[e],i=n[e];if(t.sessionID!==i.sessionID)return t.sessionID-i.sessionID;if(t.localID!==i.localID)return t.localID-i.localID}return r.length-n.length})(e.guidPath||{},t.guidPath||{})).map(e=>this.generateOverrideItem(this,e))}}generateOverrideItem(e,{guidPath:t,overrideLevel:r,...n}){let i=c.dB.format(c.dB.fromKiwi(t??{}));return{label:0===r?i:`${i} (level ${r})`,children:this.scene.generateNodeChangeItems(n)}}generatePositionItem(e,t){let{m00:r,m01:n,m02:s,m10:a,m11:l,m12:o}=t,c=r*l-n*a,d=(()=>{let e=180/Math.PI*Math.atan2(a,r);return(0,i.xN)(e,0,1e-4)?0:-1*e})(),u=c<0?(0,i.xN)(d,0,1e-4)?"Vertically":(0,i.xN)(Math.abs(d),180,1e-4)?"Horizontally":"Yes":"No";return{label:e,children:[(0,m.B_)("X",{type:"numeric",value:s}),(0,m.B_)("Y",{type:"numeric",value:o}),(0,m.B_)("Angle",{type:"numeric",value:d}),(0,m.B_)("Scale",{type:"numeric",value:c}),(0,m.B_)("Mirrored",{type:"nonUserText",value:u})],expandByDefault:!0}}}},79674:(e,t,r)=>{r.d(t,{s:()=>i});var n=r(761518);class i{constructor(e){this.id=e}get displayProperties(){return this._cachedDisplayProperties||(this._cachedDisplayProperties=this.generateDisplayProperties()),this._cachedDisplayProperties}get searchProperties(){return this._cachedSearchProperties||(this._cachedSearchProperties=this.generateSearchProperties()),this._cachedSearchProperties}get rawProperties(){return this._cachedRawProperties||(this._cachedRawProperties=this.generateRawProperties()),this._cachedRawProperties}get computedProperties(){return this._cachedComputedProperties||(this._cachedComputedProperties=this.generateComputedProperties()),this._cachedComputedProperties}freeze(){return new s(this)}forEachAncestor(e,t){return(0,n.jJ)(this,"parent",e,t)}forEachDescendant(e,t){return(0,n.jJ)(this,"children",e,t)}mapAncestors(e,t){return(0,n.Tj)(this,"parent",e,t)}mapDescendants(e,t){return(0,n.Tj)(this,"children",e,t)}filterAncestors(e,t){return(0,n.pb)(this,"parent",e,t)}filterDescendants(e,t){return(0,n.pb)(this,"children",e,t)}findAncestor(e,t){return(0,n.I6)(this,"parent",e,t)}findDescendant(e,t){return(0,n.I6)(this,"children",e,t)}someAncestor(e,t){return(0,n.zN)(this,"parent",e,t)}someDescendant(e,t){return(0,n.zN)(this,"children",e,t)}everyAncestor(e,t){return(0,n.Si)(this,"parent",e,t)}everyDescendant(e,t){return(0,n.Si)(this,"children",e,t)}countAncestors(e,t){return(0,n.U9)(this,"parent",e,t)}countDescendants(e,t){return(0,n.U9)(this,"children",e,t)}}class s extends i{constructor(e){super(e.id),this.parent=e.parent,this.children=e.children,this._cachedDisplayProperties=e.displayProperties,this._cachedSearchProperties=e.searchProperties,this._cachedRawProperties=e.rawProperties,this._cachedComputedProperties=e.computedProperties}generateDisplayProperties(){return this._cachedDisplayProperties}generateSearchProperties(){return this._cachedSearchProperties}generateRawProperties(){return this._cachedRawProperties}generateComputedProperties(){return this._cachedComputedProperties}}},397565:(e,t,r)=>{r.d(t,{SP:()=>s,p7:()=>a,uy:()=>i});var n=r(140593);let i={NONE:"NONE",DOCUMENT:"DOC",CANVAS:"CANV",GROUP:"GROUP",FRAME:"FRAME",BOOLEAN_OPERATION:"BOOL",VECTOR:"VECT",STAR:"STAR",LINE:"LINE",ELLIPSE:"ELLPS",RECTANGLE:"RECT",REGULAR_POLYGON:"POLY",ROUNDED_RECTANGLE:"RRECT",TEXT:"TEXT",TEXT_PATH:"TXPTH",SLICE:"SLICE",SYMBOL:"SYMB",STATE:"STATE",PRIMARY_INSTANCE:"PINST",NESTED_INSTANCE:"NINST",STICKY:"STCKY",SHAPE_WITH_TEXT:"SWTXT",CONNECTOR:"CONN",CODE_BLOCK:"CODE",WIDGET:"WIDGT",STAMP:"STAMP",MEDIA:"MEDIA",HIGHLIGHT:"HIGH",SECTION:"SECT",SECTION_OVERLAY:"SECTO",WASHI_TAPE:"WASHI",STATE_GROUP:"STGRP",FILL_STYLE:"FSTYL",STROKE_STYLE:"SSTYL",TEXT_STYLE:"TSTYL",EFFECT_STYLE:"ESTYL",EXPORT_STYLE:"XSTYL",GRID_STYLE:"GSTYL",VARIABLE:"VAR",VARIABLE_COLLECTION:"V_COL",VARIABLE_OVERRIDE:"V_OVR",TABLE:"TABLE",TABLE_CELL:"TCELL",SLIDE:"SLIDE",SLIDE_ROW:"SROW",SLIDE_GRID:"SGRID",ASSISTED_LAYOUT:"ALAYO",INTERACTIVE_SLIDE_ELEMENT:"FLAPP",MODULE:"MOD",RESPONSIVE_SET:"RESET",CODE_LIBRARY:"<LIB>",CODE_FILE:"<FIL>",CODE_COMPONENT:"<COM>",CODE_INSTANCE:"<INS>",JOURNAL_ENTRY:"JRNL",DIFF_CHUNK:"CHUNK",CODE_LAYER:"<LAY>",BRUSH:"BRUSH",MANAGED_STRING:"MGSTR"};var s=(e=>(e[e.DesignSystems=0]="DesignSystems",e[e.FigJam=1]="FigJam",e[e.Editor=2]="Editor",e[e.Page=3]="Page",e[e.Other=4]="Other",e))(s||{});function a(e){switch(e){case"CODE_COMPONENT":case"CODE_INSTANCE":case"CODE_LIBRARY":case"CODE_FILE":case"CODE_LAYER":case"EFFECT_STYLE":case"EXPORT_STYLE":case"FILL_STYLE":case"GRID_STYLE":case"MODULE":case"NESTED_INSTANCE":case"PRIMARY_INSTANCE":case"STATE_GROUP":case"STATE":case"STROKE_STYLE":case"SYMBOL":case"TEXT_STYLE":case"VARIABLE_COLLECTION":case"VARIABLE_OVERRIDE":case"VARIABLE":return 0;case"BOOLEAN_OPERATION":case"BRUSH":case"ELLIPSE":case"LINE":case"RECTANGLE":case"REGULAR_POLYGON":case"ROUNDED_RECTANGLE":case"STAR":case"VECTOR":return 2;case"CODE_BLOCK":case"CONNECTOR":case"HIGHLIGHT":case"MEDIA":case"SECTION_OVERLAY":case"SHAPE_WITH_TEXT":case"STAMP":case"STICKY":case"TABLE":case"WASHI_TAPE":return 1;case"CANVAS":case"DIFF_CHUNK":case"DOCUMENT":case"JOURNAL_ENTRY":return 3;case"ASSISTED_LAYOUT":case"FRAME":case"GROUP":case"INTERACTIVE_SLIDE_ELEMENT":case"NONE":case"NONE":case"RESPONSIVE_SET":case"SECTION":case"SLICE":case"SLIDE_GRID":case"SLIDE_ROW":case"SLIDE":case"TABLE_CELL":case"TEXT_PATH":case"TEXT":case"WIDGET":case"MANAGED_STRING":return 4;default:return(0,n.j)(e),4}}},235307:(e,t,r)=>{r.d(t,{$7:()=>l,B_:()=>a,QB:()=>i,Sv:()=>s,o8:()=>o});var n=r(966664);function i(e){return e.filter(Boolean).sort((e,t)=>e.label.localeCompare(t.label))}function s(e,t){return{...e,children:i([...t,...e.children])}}function a(e,t){return{label:e,value:t,children:[],expandByDefault:!1}}function l({label:e,value:t,list:r,generateChild:i,expandByDefault:s}){return{label:e,value:t??{type:"metadata",value:r.length},children:r.map((e,t)=>i(`[${t}]`,e,t)).filter(n.Vq),expandByDefault:s}}function o({label:e,value:t,object:r,generateChild:n,expandByDefault:s,showChildCount:a}){return{label:e,value:t??(a?{type:"metadata",value:Object.keys(r).length}:void 0),children:i(Object.entries(r).map(([e,t])=>n(e,t))),expandByDefault:s}}},255433:(e,t,r)=>{r.d(t,{R:()=>i});var n=r(761518);class i{constructor({name:e,sensitiveTextPolicy:t}){this.name=e,this.sensitiveTextPolicy=t}forEach(e,t){return(0,n.jJ)(this.rootObjects,"children",e,{...t,includeSelf:!0})}map(e,t){return(0,n.Tj)(this.rootObjects,"children",e,{...t,includeSelf:!0})}filter(e,t){return(0,n.pb)(this.rootObjects,"children",e,{...t,includeSelf:!0})}find(e,t){return(0,n.I6)(this.rootObjects,"children",e,{...t,includeSelf:!0})}some(e,t){return(0,n.zN)(this.rootObjects,"children",e,{...t,includeSelf:!0})}every(e,t){return(0,n.Si)(this.rootObjects,"children",e,{...t,includeSelf:!0})}count(e,t){return(0,n.U9)(this.rootObjects,"children",e,{...t,includeSelf:!0})}}},897069:(e,t,r)=>{r.d(t,{X:()=>c});var n=r(966664),i=r(396353),s=r(364898),a=r(632857),l=r(640855),o=r(235307);class c{constructor(){this.generateNodeLinkItem=(e,t)=>(0,o.B_)(e,{type:"nodeGuid",value:t,scene:this}),this.generateStyleLinkItem=(e,t)=>(0,o.B_)(e,{type:"styleId",value:t,scene:this}),this.generateVariableLinkItem=(e,t)=>(0,o.B_)(e,{type:"variableId",value:t,scene:this}),this.generateVariableCollectionLinkItem=(e,t)=>(0,o.B_)(e,{type:"variableCollectionId",value:t,scene:this}),this.generateNodeFieldItemValue=(e,t,r)=>{if((0,a.M_)(t,e))return{type:"blobIndex",value:t,scene:this};if((0,a.Lm)(t))return{type:"boolean",value:t};if((0,a.kf)(t))return{type:"numeric",value:t};if((0,a.Kg)(t))return("position"===e||"sortPosition"===e)&&(0,s.qO)(t)?{type:"position",value:t}:(0,a.SE)(t,e)?{type:"userInputtedText",value:t}:{type:"nonUserText",value:t};if((0,a._o)(t))return{type:"color",value:t};if((0,a.WX)(t))return{type:"vector",value:t};if((0,a.ar)(e)){let e=i.PK.fromKiwi(t);if(e)return{type:"styleId",value:e,scene:this}}if((0,a.r4)(e)){let e=i.gr.fromKiwi(t);if(e)return{type:"variableCollectionId",value:e,scene:this}}if((0,a.Ox)(e)){let e=i.sD.fromKiwi(t);if(e)return{type:"variableId",value:e,scene:this}}if((0,a.rP)(e)){let e=i._H.fromKiwi(t);if(e)return{type:"codeComponentId",value:e,scene:this}}if((0,a.wA)(e)){let e=i.Tq.fromKiwi(t);if(e)return{type:"codeFileId",value:e,scene:this}}if((0,a.FE)(e)){let e=i.eJ.fromKiwi(t);if(e)return{type:"codeLibraryId",value:e,scene:this}}if((0,a.W_)(t))return(0,a.aP)(e,r)?{type:"nodeGuid",value:l.c1.fromKiwi(t),scene:this}:{type:"genericGuid",value:l.c1.fromKiwi(t)};if("__nodeLinkBrand__"in t)return{type:"nodeGuid",value:t.guid,scene:this};if((0,a.hV)(t)){let{guids:e}=t;return e?{type:"guidPath",value:e.map(l.c1.fromKiwi).filter(n.Vq)}:{type:"error",value:"Invalid Fig.GUIDPath"}}if((0,a.OA)(t))return{type:"matrix",value:t};let o=(0,a.yp)(t);return o?{type:"matrix",value:o}:(0,a.qx)(t,e)?{type:"imageHash",value:t}:(0,a.aY)(t)?{type:"bytes",value:t}:(0,a.Rt)(t)?{type:"editScope",value:t}:null},this.generateNodeFieldItem=(e,t,r)=>{if(null==t)return null;let n=this.generateNodeFieldItemValue(e,t,r);if(null!=n)return(0,o.B_)(e,n);if(Array.isArray(t))return(0,o.$7)({label:e,list:t,generateChild:(e,t)=>this.generateNodeFieldItem(e,t),expandByDefault:!1});{let r=["connectorStart","connectorEnd","symbolData"].includes(e);return(0,o.o8)({label:e,object:t,generateChild:(e,t)=>this.generateNodeFieldItem(e,t),expandByDefault:r})}}}generateNodeChangeItems(e){return(0,o.QB)(Object.entries(e).map(([e,t])=>this.generateNodeFieldItem(e,t)))}}},579616:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(255433);class i extends n.R{get rootObjects(){return this.scene.rootNodes}getObject(e){return this.scene.getNodeById(e)}}},100874:(e,t,r)=>{r.d(t,{m:()=>a});var n=r(96328),i=r(752568),s=r(235307);class a{constructor(e,t){for(let[r,n]of(this.scene=e,this.ownFailuresById=new i.d,this.childrenWithFailuresById=new i.d,this.badgesById=new Map,this.propertiesById=new Map,t.entries())){let t=e.getNodeByGuid(r);t&&this.processEntry(t,n)}}generateBadges(e){let t=this.badgesById.get(e);if(t)return t;let r=[],i=this.ownFailuresById.get(e);if(i&&i.size>0){let e=i.size,t=`${(0,n.td)(e,"SceneGraph validation failure")} for this node: ${Array.from(i).join(", ")}`;r.push({type:"error",value:`${e}!`,title:t})}let s=this.childrenWithFailuresById.get(e);if(s&&s.size>0){let e=s.size,t=`${(0,n.td)(e,"SceneGraph validation failure")} in this node's descendants.`;r.push({type:"warning",value:`${e}!`,title:t})}return this.badgesById.set(e,r),r}generateProperty(e){return this.propertiesById.get(e)||(this.scene.getNodeById(e)?{label:"SceneGraph validation info",children:[(0,s.$7)({label:"Validation failures",list:Array.from(this.ownFailuresById.get(e)??[]),generateChild:(e,t)=>({key:t,label:"",value:{type:"error",value:t},children:[]})}),(0,s.$7)({label:"Children with validation failures",list:Array.from(this.childrenWithFailuresById.get(e)??[]),generateChild:this.scene.generateNodeLinkItem})]}:null)}processEntry(e,t){for(let r of t)this.ownFailuresById.add(e.id,r);for(let t=e.parent;t;t=t.parent)this.childrenWithFailuresById.add(t.id,e.guid)}}},645337:(e,t,r)=>{r.d(t,{G2:()=>S});var n=r(55253),i=r(140593),s=r(966664),a=r(922827),l=r(298455),o=r(966712),c=r(96328),d=r(678340),u=r(479118),h=r(273226),m=r(885456),g=r(2685),p=r(640855),f=r(235307),y=r(897069),E=r(579616),I=r(100874),b=r(785131);class S extends E.${constructor({name:e,sensitiveTextPolicy:t,type:r,pagesList:n,migrationVersion:i}){super({name:e,sensitiveTextPolicy:t}),this.type=r,this.pagesList=n,this.migrationVersion=i,this.scene=new C(this)}getSearch(){return this.scene.getSearch()}get metadata(){return{"Migration version":this.migrationVersion?.toString()}}setSceneGraphValidationInfo(e){this.sceneGraphValidationInfo=new I.m(this.scene,e)}setNodeWarnings(e){this.nodeWarnings=e}getAdditionalProperties(e){let t=[],r=this.sceneGraphValidationInfo?.generateProperty(e);if(r&&t.push(r),this.pagesList){let r=this.scene.getNodeById(e),n=r?.isPage?r:r?.containingPage;t.push({label:"Dynamic page loading info",children:(0,f.QB)([r&&n&&r!==n&&this.scene.generateNodeLinkItem("Containing page",n.guid),n&&(0,f.B_)("Page status",(()=>{switch((0,u.Fy)(this.pagesList,n.guid)){case a.xal.REQUESTED:return{type:"error",value:"Page loading in progress"};case a.xal.NOT_LOADED:return{type:"error",value:"Page not loaded due to incremental loading"};default:return{type:"nonUserText",value:"Page loaded"}}})())])})}let n=this.nodeWarnings?.get(e);return(n?.length??0)>0&&t.push((0,f.$7)({label:"Runtime warnings",list:n??[],generateChild:(e,t)=>({label:e,value:{type:"error",value:t.message},children:(0,f.QB)([(0,f.B_)("Severity",{type:"nonUserText",value:t.severity}),(0,f.B_)("Message",{type:"nonUserText",value:t.message}),void 0!==t.timestamp&&(0,f.B_)("Time",{type:"timestamp",value:t.timestamp}),t.filePath&&(0,f.B_)("File path",{type:"nonUserText",value:`${t.filePath}${t.lineNumber?`:${t.lineNumber}`:""}`}),t.data&&(0,f.o8)({label:"Data",object:t.data,generateChild:(e,t)=>(0,f.B_)(e,{type:"nonUserText",value:String(t)})})])})})),t}getAdditionalBadges(e){let t=[],r=this.sceneGraphValidationInfo?.generateBadges(e);r&&t.push(...r);let n=this.scene.getNodeById(e);if(n?.isPage&&this.pagesList)switch((0,u.Fy)(this.pagesList,n.guid)){case a.xal.LOADED:break;case a.xal.REQUESTED:t.push({type:"warning",value:"LOADING",title:"Page loading in progress"});break;case a.xal.NOT_LOADED:t.push({type:"warning",value:"NOT LOADED",title:"Page not loaded due to incremental loading"})}let i=this.nodeWarnings?.get(e),s=i?.length??0;return s>0&&t.push({type:"warning",value:`${s} WARNINGS`}),t}}class C extends y.X{constructor(e){super(),this.resource=e,this.nodesById=new Map,this.stylesById=new Map,this.variablesById=new Map,this.variableCollectionsById=new Map,this.codeFilesById=new Map,this.codeComponentsById=new Map,this.codeLibrariesById=new Map,this.searchDB=new b.H,this.isComplete=!0,this.totalMemoryUsage=this.rootNodes.reduce((e,t)=>e+t.treeMemoryUsage,0)}get document(){return this.rootNodes.find(e=>e.isDocument)}get pages(){return this.document.children}get internalCanvas(){return this.pages.find(e=>e.nodeChange.internalOnly)??null}get rootNodes(){return this.fetchNodesFromFullscreen(()=>a.Hcu.getRootNodes())}getNodeById(e){return this.getNodeFromCache(e)||this.fetchNodeFromFullscreen(()=>a.Hcu.getNode(D(e)))}getNodeByGuid(e){return this.fetchNodeFromFullscreen(()=>a.Hcu.getNodeByGuid(e))}getChildrenByParentGuid(e){return this.fetchNodesFromFullscreen(()=>a.Hcu.getChildrenByParentGuid(e))}getStyleByStyleId(e){return this.getStyleFromCache(e)||this.fetchNodeFromFullscreen(()=>a.Hcu.getStyle(e))}getVariableByVariableId(e){return this.getVariableFromCache(e)||this.fetchNodeFromFullscreen(()=>a.Hcu.getVariable(e))}getVariableCollectionByCollectionId(e){return this.getVariableCollectionFromCache(e)||this.fetchNodeFromFullscreen(()=>a.Hcu.getVariableCollection(e))}getCodeComponentById(e){return this.getCodeComponentFromCache(e)||this.fetchNodeFromFullscreen(()=>a.Hcu.getCodeComponent(e))}getCodeFileById(e){return this.getCodeFileFromCache(e)||this.fetchNodeFromFullscreen(()=>a.Hcu.getCodeFile(e))}getCodeLibraryById(e){return this.getCodeLibraryFromCache(e)||this.fetchNodeFromFullscreen(()=>a.Hcu.getCodeLibrary(e))}getStyleConsumers(e){return this.fetchNodesFromFullscreen(()=>a.Hcu.getStyleConsumers(e))}getConsumedStyles(e){return this.fetchNodesFromFullscreen(()=>a.Hcu.getConsumedStyles(D(e)))}getConsumedVariables(e){return this.fetchNodesFromFullscreen(()=>a.Hcu.getConsumedVariables(D(e)))}getVariablesInCollection(e){return this.fetchNodesFromFullscreen(()=>a.Hcu.getVariablesInCollection(e))}getNodesWithExplicitModeForVariableSet(e){return this.fetchNodesFromFullscreen(()=>a.Hcu.getNodesWithExplicitModeForVariableSet(e))}getVariableConsumers(e){return this.fetchNodesFromFullscreen(()=>a.Hcu.getVariableConsumers(e))}getDsaComponentCounts(e){let t=a.Hcu.getDsaComponentCounts(D(e));return{all:this.convertDsaAssetCounts(t.all),unnested:this.convertDsaAssetCounts(t.unnested)}}getDsaStyleCounts(e){let t=a.Hcu.getDsaStyleCounts(D(e));return{all:this.convertDsaAssetCounts(t.all),unnested:this.convertDsaAssetCounts(t.unnested)}}getDsaVariableCounts(e){let t=a.Hcu.getDsaVariableCounts(D(e));return{all:this.convertDsaAssetCounts(t.all),unnested:this.convertDsaAssetCounts(t.unnested)}}convertDsaAssetCounts(e){let t=[];for(let r of e){let e=this.createAndCacheNode(r.asset);e&&t.push({node:e,count:r.count})}return t.sort((e,t)=>t.count-e.count),t}getDirectVariableDependenciesToVariable(e){return this.fetchNodesFromFullscreen(()=>a.Hcu.getDirectVariableDependenciesToVariable(e))}getPropDefs(e){return a.Hcu.getPropDefs(D(e))}getCombinedPropAssignments(e){return a.Hcu.getCombinedPropAssignments(D(e))}getTransitiveDependencyPaths(e,t){return a.Hcu.getTransitiveDependencyPaths(D(e),t)}getAllOverridesForLayer(e){return a.Hcu.getLayerOverrides(D(e)).map(e=>({...e,fields:n.w.decodeMessage(e.fields).nodeChanges[0]}))}getAllSublayerInfoForImmutableFrame(e){return a.Hcu.getImmutableFrameSubLayerInfo(D(e))}getOverrideStash(e){return a.Hcu.getOverrideStash(D(e)).map(e=>({...e,overrides:e.overrides.map(e=>({...e,fields:n.w.decodeMessage(e.fields).nodeChanges[0]}))}))}getTextInsertionStyle(e){let t;let r=a.Hcu.getTextInsertionStyle(D(e));if(0===r.length)return null;try{t=n.w.decodeMessage(r).nodeChanges}catch(e){return console.warn("FigmaScope: error decoding node changes",e),null}return t?t.length>1?(console.warn("FigmaScope: more than one node change found for text insertion style"),null):t[0]:(console.warn("FigmaScope: buffer did not contain node changes"),null)}getBlobByIndex(e){return g.y}getNodeByKiwiOverridePath(e,t){let r=[e,...p.dB.fromKiwi(t)];return this.getNodeById(T(r))}get supportsNodePreviews(){switch(this.resource.type){case"editor":return!0;case"viewer":return!1;case"standalone":return"hide"!==this.resource.sensitiveTextPolicy}}getNodeFromCache(e){return this.nodesById.get(e)??null}getStyleFromCache(e){return this.stylesById.get(e)??null}getVariableFromCache(e){return this.variablesById.get(e)??null}getVariableCollectionFromCache(e){return this.variableCollectionsById.get(e)??null}getCodeComponentFromCache(e){return this.codeComponentsById.get(e)??null}getCodeFileFromCache(e){return this.codeFilesById.get(e)??null}getCodeLibraryFromCache(e){return this.codeLibrariesById.get(e)??null}fetchNodeFromFullscreen(e){let t=null;try{t=e()}catch(e){console.error("FigmaScope: error fetching nodes")}return t?this.createAndCacheNode(t):null}fetchNodesFromFullscreen(e){let t=[];try{t=e()}catch(e){console.error("FigmaScope: error fetching nodes")}return t.map(e=>this.createAndCacheNode(e)).filter(s.Vq)}createAndCacheNode(e){let t;try{t=n.w.decodeNodeChange(e.nodeChange)}catch(e){return console.error("FigmaScope: error decoding node changes",e),null}let r=p.dB.fromStrings(e.stablePath),i=T(r),s=this.nodesById.get(i);if(s)return s;let a=new v(i,{...e,nodeChange:t,stablePath:r},this);return this.nodesById.set(a.id,a),a.styleId&&this.stylesById.set(a.styleId,a),a.isVariable&&a.variableId&&this.variablesById.set(a.variableId,a),a.isVariableCollection&&a.variableCollectionId&&this.variableCollectionsById.set(a.variableCollectionId,a),a.isCodeFileAsset&&a.codeFileId&&this.codeFilesById.set(a.codeFileId,a),a.isCodeLibraryAsset&&a.codeLibraryId&&this.codeLibrariesById.set(a.codeLibraryId,a),a.isCodeComponentAsset&&a.codeComponentId&&this.codeComponentsById.set(a.codeComponentId,a),"standalone"===this.resource.type&&a.isPrimaryInstance&&l.UN().get(a.guid)?.materializeDescendants(),a}getSearch(e){if(this._indexedSearchDB)return this._indexedSearchDB;let t=0,r=this.rootNodes,n=async()=>{await scheduler.postTask(async()=>{let i=Date.now();for(;Date.now()-i<100;){let n=r.pop();if(!n)return;e&&++t%5e3==0&&e(t),this.searchDB.indexObject(n),r.push(...n.children.filter(e=>e.guid))}await n()})},i=n().then(()=>this.searchDB);return this._indexedSearchDB=i}}class v extends m.E{constructor(e,t,r){super(e,t.nodeChange,r),this.id=e,this.data=t,this.scene=r}get type(){return this.isNestedInstance?"NESTED_INSTANCE":super.type}get parent(){return this.parentGuid?this.scene.getNodeByGuid(this.parentGuid):null}get children(){return this.scene.getChildrenByParentGuid(this.guid)}get consumedStyleIds(){return this.scene.getConsumedStyles(this.id).map(e=>e.styleId).filter(s.Vq)}get consumedStyles(){return this.scene.getConsumedStyles(this.id)}get consumedVariableIds(){return this.consumedVariables.map(e=>e.variableId).filter(s.Vq)}get consumedVariables(){return this.scene.getConsumedVariables(this.id)}get key(){return super.key??a.Egt?.getAssetKeyForPublish(this.guid)??null}get stablePath(){return this.data.stablePath}get isTracked(){return 1===this.stablePath.length}get isUntracked(){return this.stablePath.length>1}get containingTrackedNode(){return this.isTracked?this:this.parent?.containingTrackedNode??null}get isPrimaryInstance(){return this.isInstance&&this.isTracked}get containingInstance(){return this.findAncestor(e=>e.isInstance)}get containingPrimaryInstance(){return this.findAncestor(e=>e.isPrimaryInstance)}get containingImmutableFrame(){return this.findAncestor(e=>e.isImmutableFrame)}get isInstanceSublayer(){return null!=this.containingInstance}get isImmutableFrameSublayer(){return null!=this.containingImmutableFrame}get isNestedInstance(){return this.isInstance&&this.isInstanceSublayer}get isSwappedNestedInstance(){return this.isNestedInstance&&null!=this.nodeChange.overriddenSymbolID}get ownMemoryUsage(){return this._ownMemoryUsage=this._ownMemoryUsage??a.Hcu.getNodeMemoryUsage(this.stablePath)}get treeMemoryUsage(){return this._treeMemoryUsage=this._treeMemoryUsage??a.Hcu.getSubtreeMemoryUsage(this.stablePath)}generateDisplayProperties(){let e=super.generateDisplayProperties(),t=e.leftBadges.map(e=>"type"===e.type?{...e,tracked:this.isTracked}:e);return{...e,leftBadges:t,secondaryId:this.stablePath.length>1?p.dB.format(this.stablePath.slice(1)):this.overrideKey?p.c1.format(this.overrideKey):null,memoryFraction:(0,d.KV)(this.treeMemoryUsage,this.scene.totalMemoryUsage)}}generateRawProperties(){return[{label:"Tracked fields",children:super.generateRawProperties(),expandByDefault:!0},{label:"Untracked fields",children:this.generateNonKiwiFieldProperties(this.data.untrackedFields),expandByDefault:!0},{label:"Derived properties",children:this.generateNonKiwiFieldProperties(this.data.derivedProperties),expandByDefault:!0}]}generateTrackingInfoItem(){return(0,f.B_)("Node tracked",{type:"boolean",value:this.isTracked,sensitive:!1})}generateNonKiwiFieldProperties({jsonSerialized:e,stringSerialized:t}){let r=[];for(let[t,n]of Object.entries(e))null!=n&&r.push(this.scene.generateNodeFieldItem((0,c.zS)(t),n));for(let[e,n]of Object.entries(t))r.push({label:(0,c.zS)(e),value:{type:"error",value:"No toJson() support"},children:[(0,f.B_)("Debug string",{type:"nonUserText",value:n,sensitive:!1})]});return r.filter(s.Vq)}generateComputedProperties(){let e=(0,f.QB)([...super.generateComputedProperties(),this.generateMemoryUsageItem(),this.generateTextInfoItem()]),t=this.generateNodePreviewItem();return t&&e.push(t),e}generateMemoryUsageItem(){return{label:"Memory usage",children:[(0,f.B_)("Own data",{type:"numeric",value:this.ownMemoryUsage}),(0,f.B_)("Tree data",{type:"numeric",value:this.treeMemoryUsage})],expandByDefault:!0}}generateDesignSystemsInfoItem(){return(0,f.Sv)(super.generateDesignSystemsInfoItem(),[this.generateComponentPropDefsItem(),this.generateComponentPropAssignmentsItem(),this.generateSymbolDependencyPathsItem(a.Uze.FROM),this.generateSymbolDependencyPathsItem(a.Uze.TO),this.generateLayerOverridesSection(),this.generateDsaSection()])}generateTextInfoItem(){if("TEXT"!==this.type)return null;let e=this.scene.getTextInsertionStyle(this.id);return{label:"Text info",children:(0,f.QB)([e&&(0,f.o8)({label:"Text insertion style",object:e,generateChild:this.scene.generateNodeFieldItem,showChildCount:!0})])}}generateNodePreviewItem(){return this.scene.supportsNodePreviews&&this.isRenderingNode&&!this.isStateGroup?{label:"Node preview",children:[(0,f.B_)("",{type:"nodeThumbnail",value:this.guidObj})]}:null}generateOverrideItem(e,t){let r=this.scene.getNodeByKiwiOverridePath(e.guid,t.guidPath??{});return{...super.generateOverrideItem(e,t),value:r?{type:"nodeGuid",value:r.guid,scene:this.scene}:void 0}}generateComponentPropDefsItem(){if(!this.isSymbol&&!this.isStateGroup)return null;let e=this.scene.getPropDefs(this.id),t=this.isState?this.parentGuid:null;return{label:"Component prop defs",children:e.map(e=>({label:p.c1.format(e.defID),value:{type:"userInputtedText",value:e.name,scene:this.scene},children:[(0,f.B_)("Is explicit",{type:"boolean",value:e.isExplicit}),(0,f.B_)("Default value",this.generateComponentPropValue(e.propType,e.defaultValue)),...this.generateComponentPropProperties(e,t)]}))}}generateComponentPropAssignmentsItem(){if(!this.isInstance)return null;let e=this.scene.getCombinedPropAssignments(this.id),t=this.backingStateGroup?.guid??null;return{label:"Component prop assignments (combined)",children:e.map(e=>({label:p.c1.format(e.assignmentID),value:{type:"userInputtedText",value:e.name,scene:this.scene},children:[(0,f.B_)("Value",this.generateComponentPropValue(e.propType,e.assignmentValue)),(0,f.B_)("Is mixed",{type:"boolean",value:e.isMixed}),...this.generateComponentPropProperties(e,t)]}))}}generateComponentPropProperties(e,t){let{error:r,propType:n,explicitDefID:i,refNodes:s}=e;return(0,f.QB)([!!r&&(0,f.B_)("Error",{type:"error",value:r}),!!n&&(0,f.B_)("Prop type",{type:"nonUserText",value:(0,h.xb)(n)}),!!i&&(0,f.B_)("Explicit def ID",{type:"genericGuid",value:p.c1.fromString(i)}),t&&this.scene.generateNodeLinkItem("Containing state group",t),(0,f.$7)({label:"Ref Nodes",list:s,generateChild:(e,t)=>this.generateRefNodeItem(e,t)})])}generateComponentPropValue(e,t){switch(e){case a.J0O.BOOL:return{type:"boolean",value:t.boolValue};case a.J0O.TEXT:return{type:"userInputtedText",value:t.textValue};case a.J0O.INSTANCE_SWAP:return{type:"nodeGuid",value:p.c1.fromString(t.instanceSwapValue),scene:this.scene};default:return t.untypedValue?{type:"nonUserText",value:t.untypedValue}:{type:"error",value:"Unknown prop type"}}}generateRefNodeItem(e,t){return{label:e,children:[this.scene.generateNodeLinkItem("Ref node",p.c1.fromString(t.refNodeGuid)),(0,f.B_)("Ref field",{type:"nonUserText",value:t.nodeField})],expandByDefault:!0}}generateSymbolDependencyPathsItem(e){return this.isPrimaryInstance||this.isSymbol?(0,f.$7)({label:e===a.Uze.FROM?"Symbol Dependencies":"Symbol Dependents",list:this.scene.getTransitiveDependencyPaths(this.id,e),generateChild:(t,{edges:r})=>({label:t,value:{type:"nodeGuid",value:p.c1.fromString(e===a.Uze.FROM?r[r.length-1].toGuid:r[0].fromGuid),scene:this.scene},children:1===r.length?this.generateSymbolDependencyProperties(r[0],!1):[(0,f.B_)("Type",{type:"nonUserText",value:"Transitive"}),(0,f.$7)({label:"Edges",list:r,generateChild:(e,t)=>({label:e,children:this.generateSymbolDependencyProperties(t,!0),expandByDefault:!0}),expandByDefault:!0})]})}):this.isStateGroup?(0,f.$7)({label:e===a.Uze.FROM?"Symbol dependencies by state":"Symbol dependents by state",list:this.children,generateChild:(t,r)=>({...r.generateSymbolDependencyPathsItem(e),label:`State ${t}`,value:{type:"nodeGuid",value:r.guid,scene:this.scene}})}):null}generateSymbolDependencyProperties({fromGuid:e,toGuid:t,type:r,pathToOverride:n,propDefId:s},l){let o=[(0,f.B_)("Type",{type:"nonUserText",value:(()=>{switch(r){case a.SoG.PRIMARY_INSTANCE_BACKED_BY_SYMBOL:return"Primary instance backed by symbol";case a.SoG.PRIMARY_INSTANCE_WITH_NESTED_SWAP_TO_SYMBOL:return"Primary instance with nested swap to symbol";case a.SoG.PRIMARY_INSTANCE_WITH_TOP_LEVEL_PROP_ASSIGNMENT_TO_SYMBOL:return"Primary instance with top level prop assignment to symbol";case a.SoG.PRIMARY_INSTANCE_WITH_NESTED_PROP_ASSIGNMENT_TO_SYMBOL:return"Primary instance with nested prop assignment to symbol";case a.SoG.PRODUCT_COMPONENT_WITH_PROP_DEF_TO_SYMBOL:return"Product component with prop def to symbol";case a.SoG.STATE_WITH_PROP_DEF_TO_SYMBOL:return"State with prop def to symbol";case a.SoG.SYMBOL_CONTAINING_PRIMARY_INSTANCE:return"Symbol containing primary instance";case a.SoG.INVALID:return"Invalid";default:(0,i.xb)(r)}})()})];return l&&(o.push(this.scene.generateNodeLinkItem("From",p.c1.fromString(e))),o.push(this.scene.generateNodeLinkItem("To",p.c1.fromString(t)))),n.length>1&&o.push((0,f.B_)("Path to override",{type:"guidPath",value:p.dB.fromStrings(n)})),s&&p.c1.isValid(s)&&o.push((0,f.B_)("Prop def id",{type:"genericGuid",value:p.c1.fromString(s)})),o}generateLayerOverridesSection(){if(!this.isInstance&&!this.isInstanceSublayer)return null;let e=this.scene.getAllOverridesForLayer(this.id),t={};for(let{primaryInstanceId:r,containingSymbolId:n,fields:i,savedLevel:s,inheritanceLevel:a}of e)for(let[e,l]of Object.entries(i))t[e]=t[e]||[],t[e][a]={primaryInstanceId:r,containingSymbolId:n,value:l,savedLevel:s};let r=Object.keys(t).sort();return 0===r.length?null:(0,f.$7)({label:"Layer overrides",list:r,expandByDefault:!1,generateChild:(e,r)=>{let n=t[r],i=n.findIndex(s.Vq),a=n[i].value;return{label:r,value:{type:"metadata",value:0===i?"Direct override":"Inherited override"},expandByDefault:!1,children:[{...this.scene.generateNodeFieldItem(r,a),label:"Resolved value"},{label:"Sources",expandByDefault:!1,children:(0,f.QB)(n.map(({primaryInstanceId:e,containingSymbolId:t,value:n,savedLevel:i},s)=>({label:0===s?"Direct override":"Inherited from",key:`Level ${s}`,value:t?{type:"nodeGuid",value:p.c1.fromString(t),scene:this.scene}:void 0,children:(0,f.QB)([{...this.scene.generateNodeFieldItem(r,n),label:"Value"},i>0&&(0,f.B_)("Saved level",{type:"numeric",value:i}),this.scene.generateNodeLinkItem("Primary instance",p.c1.fromString(e))])})))}]}}})}generateDsaSection(){if(!(0,o.kc)().dsa_figmascope)return null;let e=this.scene.getDsaComponentCounts(this.id),t=this.scene.getDsaStyleCounts(this.id),r=this.scene.getDsaVariableCounts(this.id);return{label:"Design system analyltics",children:[{label:"Components",children:[{label:"All",children:this.generateDsaComponentCounts(e.all)},{label:"Unnested",children:this.generateDsaComponentCounts(e.unnested)}]},{label:"Styles",children:[{label:"All",children:this.generateDsaStyleCounts(t.all)},{label:"Unnested",children:this.generateDsaStyleCounts(t.unnested)}]},{label:"Variables",children:[{label:"All",children:this.generateDsaVariableCounts(r.all)},{label:"Unnested",children:this.generateDsaVariableCounts(r.unnested)}]}]}}generateDsaComponentCounts(e){return e.filter(({node:e})=>!!e.guid).map(({node:e,count:t})=>({label:e.name,key:e.id,value:{type:"metadata",value:t},children:[this.scene.generateNodeLinkItem("node",e.guid),(0,f.B_)("count",{type:"numeric",value:t})]}))}generateDsaStyleCounts(e){return e.filter(({node:e})=>!!e.styleId).map(({node:e,count:t})=>({label:e.name,key:e.id,value:{type:"metadata",value:t},children:[this.scene.generateStyleLinkItem("style",e.styleId),(0,f.B_)("count",{type:"numeric",value:t})]}))}generateDsaVariableCounts(e){return e.filter(({node:e})=>!!e.variableId).map(({node:e,count:t})=>({label:e.name,key:e.id,value:{type:"metadata",value:t},children:[this.scene.generateVariableLinkItem("var",e.variableId),(0,f.B_)("count",{type:"numeric",value:t})]}))}}function T(e){return p.SW.fromString(e.join(";"))}function D(e){return p.dB.fromStrings(e.split(";"))}},785131:(e,t,r)=>{r.d(t,{U:()=>m,H:()=>h});var n=r(677469),i=r.n(n),s=r(776250),a=r(852438);let l={id:["nodeId"],guid:[],parentGuid:["parent","parentId"],type:["nodeType"],field:["property"],phase:[],overrideKey:["okey"],backingSymbolId:["symbol","symbolId"],consumedStyleIds:["consumedStyleId","consumedStyle","consumedStyles"],name:[],text:[],key:[],version:["assetVersion","sharedSymbolVersion"],publishId:[],imageHashes:[],symbolId:["symbol"],stateGroupId:["stateGroup"],styleId:["style"],variableId:["variable"],variableCollectionId:["variableSetId","collectionId","variableCollection","variableSet"],codeComponentId:["codeComponent"],codeFileId:["codeFile","exportedFromCodeFileId"],codeLibraryId:["codeLibrary","belongsToCodeLibraryId"],editScopeLabel:["editScope"],startSequenceNumber:["start","startSequence"],endSequenceNumber:["end","endSequence"],userId:["user"],createdAt:["created","date","time"]};var o=r(752568);class c{constructor(){this.children=new Map,this.value=[]}}class d{constructor(){this.root=new c}insert(e,t){let r=this.root;for(let t=0;t<e.length;t++){let n=e.charAt(t),i=r.children.get(n);i||r.children.set(n,i=new c),r=i}r.value.push(t)}prefixFind(e){let t=[];for(let r of this.keysWithPrefix(e)){let e=this.find(r);if(e)for(let r of e)t.push(r)}return t}find(e){let t=this.root;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=t.children.get(n);if(!i)return;t=i}return t.value}keysWithPrefix(e){let t=[],r=this.findNode(e);return this.collect(r,function(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charAt(r);t.push(n)}return t}(e),t),t}collect(e,t,r){if(e)for(let n of(e.value.length>0&&r.push(t.join("")),Array.from(e.children.keys())))t.push(n),this.collect(e.children.get(n),t,r),t.pop()}findNode(e){let t=this.root;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=t.children.get(n);if(!i)return;t=i}return t}}class u{constructor({property:e,aliases:t=[]}){this.trie=new d,this.exactMatches=new o._,this.property=e,this.aliases=t}search({value:e,isExact:t}){let r=this.exactMatches.get(e);if(t)return r;let n=this.trie.prefixFind(e.toLowerCase()).filter(e=>!r.some(t=>t.object===e.object));return[...r,...n]}indexObject(e){let t=e.searchProperties[this.property];if(t){if(Array.isArray(t))for(let r of t)this.indexValue(r,e);else this.indexValue(t,e)}}indexValue(e,t){this.exactMatches.add(e,{value:e,object:t,property:this.property,isExact:!0}),this.trie.insert(e.toLowerCase(),{value:e,object:t,property:this.property,isExact:!1})}}class h{constructor(){this.indices=Object.entries(l).map(([e,t])=>new u({property:e,aliases:t}))}indexObject(e){for(let t of this.indices)t.indexObject(e)}indexObjects(e){for(let t of this.indices)for(let r of e)t.indexObject(r)}searchWithText(e){return this.search(function(e){let t,r=[];e=e.trim();let n=/([a-zA-Z0-9_.]+=)?("[^"]*"|'[^']*'|[^\s]+)/g;for(;t=n.exec(e);){var i;let e=t[1]?.slice(0,-1)||void 0,{value:n,isExact:s}=(i=t[2]).startsWith("'")&&i.endsWith("'")||i.startsWith('"')&&i.endsWith('"')?{value:i.slice(1,-1),isExact:!0}:{value:i,isExact:!1};r.push({property:e,value:n,isExact:s})}return r.length>1&&(r=function(e){let t=[],r=e[0],n=e[1],i=2;for(;;)if(n)r.property||n.property||r.isExact||n.isExact?(t.push(r),r=n):r={property:void 0,value:`${r.value} ${n.value}`,isExact:!1},n=e[i++];else{t.push(r);break}return t}(r)),r}(e))}searchWithProperties(e){return this.search(function(e){let t=[];for(let[r,n]of Object.entries(e))if(n){if(Array.isArray(n))for(let e of n)t.push({property:r,value:e,isExact:!0});else t.push({property:r,value:n,isExact:!0})}return t}(e))}search(e){let t;for(let r of(s.az.trackDefinedEvent("figmascope.search",{used_operators:e.length>1||e[0]?.property!=null}),e)){let e=new Map;for(let t of this.getIndicesToSearchForToken(r))for(let n of t.search(r)){let{object:t,...r}=n;e.has(t)?e.get(t).matches.push(r):e.set(t,{object:t,matches:[r]})}t=t?(0,a.wD)(t,e,(e,t,r)=>({object:e,matches:t.matches.concat(r.matches)})):e}return t?i()(Array.from(t.values())).sort(g):[]}getIndicesToSearchForToken({property:e}){return null==e?this.indices.filter(e=>"parentGuid"!==e.property):(e=e.toLowerCase(),this.indices.filter(t=>{if(t.property.toLowerCase()===e)return!0;for(let r of t.aliases)if(r.toLowerCase()===e)return!0;return!1}))}}class m{constructor(e){this.dbs=e}searchWithText(e){return i()(this.dbs.map(t=>t.searchWithText(e))).sort(g)}searchWithProperties(e){return i()(this.dbs.map(t=>t.searchWithProperties(e))).sort(g)}}function g(e,t){let r=e.matches.filter(e=>e.isExact).length;return t.matches.filter(e=>e.isExact).length-r||t.matches.length-e.matches.length}},617520:(e,t,r)=>{r.d(t,{Cc:()=>c,lX:()=>d,lu:()=>l});var n=r(966159),i=r(716034),s=r(627472),a=r(586459);let l=(0,i.eU)((0,n.Ok)()),o=(0,i.eU)(e=>{let t=e(l);if(t.status!==a.r.SUCCESS)throw Error("FigmaScope internal code is running but no FigmaScope resources are set. This is a bug - please report in #figmascope.");return t.value}),c=(0,s.mg)(o,e=>e.primaryResource),d=(0,s.mg)(o,e=>e.diffResource)},506563:(e,t,r)=>{r.d(t,{e:()=>n});let n="https://go/figmascope-docs"},749070:(e,t,r)=>{r.d(t,{rf:()=>a,tV:()=>l,zG:()=>s});var n=r(411855),i=r(501114);function s(){return n.createElement(l,null,n.createElement("p",null,"Reading file..."))}function a({error:e}){let t="Oops! Something went wrong";return"string"==typeof e?t=e:e instanceof Error&&(t=e.message,console.error(e)),n.createElement(l,null,n.createElement("p",{style:i.sx.colorTextOndanger.colorBgDanger.p16.font20.maxW400.$},t))}function l({children:e}){return n.createElement("div",{style:i.sx.fillPositionedContainer.flex.itemsCenter.justifyCenter.flexColumn.lh1_5Lines.font16.$},e)}},234463:(e,t,r)=>{r.d(t,{J:()=>ne});var n=r(411855),i=r(618249),s=r(776250),a=r(189430),l=r(418956),o=r(659302),c=r(498750),d=r(586459),u=r(154254),h=r(501114),m=r(175290),g=r(809840),p=r(841563),f=r.n(p),y=r(716034),E=r(617520),I=r(188507),b=r(44948),S=r(738269),C=r(356390),v=r(611978),T=r(640855),D=r(799507),N=r(645337),x=(e=>(e.Position="Position",e.Name="Name",e.Memory="Memory",e.NodeId="Node ID",e))(x||{}),P=(e=>(e.Search="Search",e.Filter="Filter",e))(P||{});let A=(0,l.E3)("figmascope-settings",{});function B(e,t){return(0,y.eU)(r=>r(A)[e]??t,(t,r,n)=>r(A,t=>({...t,[e]:n})))}let{valueAtom:_,undoAtom:O,redoAtom:L,historyAtom:F}=(0,l.xP)(T.SW.fromString("0:0")),w=(0,y.eU)(e=>{let t=e(E.Cc),r=e(_);return t.getObject(r)}),R=B("followSelection",!1);function k({children:e,appSelection:t,setAppSelection:r}){let i=(0,l.md)(E.Cc);return r&&i instanceof N.G2?n.createElement(U,{resource:i,appSelection:t,setAppSelection:r},e):n.createElement(n.Fragment,null,e,n.createElement(V,null))}function V(){let e=(0,I.wA)(),t=(0,v._6)(),[r,i]=(0,l.fp)(_),s=n.useRef(!0);return n.useEffect(()=>{(0,D.E)(t)&&(s.current?(s.current=!1,t.selection&&i(T.SW.fromString(t.selection))):r!==t.selection&&e(S.$T({...t,selection:r})))},[t,r,i,e]),null}let M=n.createContext({selectInApp:void 0,canSelectInApp:void 0});function U({resource:e,appSelection:t,setAppSelection:r,children:i}){let s=e.scene,a=(0,l.md)(R),[o,c]=(0,l.fp)(_),d=n.useCallback(e=>{let t=s.getNodeByGuid(T.c1.fromString(e));t&&c(t.id)},[c,s]);n.useEffect(()=>{C.Y5.setFigmascopeSelectedGuidCallback(d)},[d]);let u=o?s.getNodeById(o):null,h=(0,b.k9)(()=>u?G(u):null,[u]);n.useEffect(()=>{a&&r&&h&&r(h)},[a,r,h]),n.useEffect(()=>{a&&t?.guid&&d(t.guid)},[a,t?.guid,d]);let m=n.useMemo(()=>({canSelectInApp:e=>!!G(e),selectInApp:e=>{let t=G(e);t&&r(t)}}),[r]);return n.createElement(M.Provider,{value:m},i)}function G(e){if(!e.isInternalOnly)return{selectionType:"canvas",guid:e.guid};if(e.isStyle&&e.isLocalAsset){let t=e.nodeChange.styleType;if(t)return{selectionType:"local_style",guid:e.guid,styleType:t}}return null}var $=(e=>(e.None="No Diff",e.Layer="Layer Diff",e.Tree="Tree Diff",e.Full="Full Diff",e))($||{});function H(e){return"Layer Diff"===e?"layer":"tree"}let j=(0,l.FZ)((0,y.eU)(null),(e,t,r)=>{let n,i;let a=new Date;if("clear"===t.type)return e&&s.az.trackDefinedEvent("figmascope.diff_end",{type:H(e.type),duration_seconds:(a.getTime()-e.time.getTime())/1e3}),null;if("start"===t.type?(n=t.id,i=t.diffType):"refresh"===t.type&&e&&(n=e.object.id,i=e.type),!n||!i)return null;let l=r(E.Cc).getObject(n)?.freeze();return l?(s.az.trackDefinedEvent("figmascope.diff_start",{type:H(i)}),{type:i,object:l,time:new Date}):null}),Y=(0,y.eU)(e=>{let t=e(E.lX);return t?{type:"Full Diff",resource:t}:e(j)??{type:"No Diff"}}),K=(0,y.eU)(e=>{let t=e(_),r=e(Y);switch(r.type){case"Layer Diff":return r.object;case"Tree Diff":return r.object.findDescendant(e=>e.id===t,{includeSelf:!0})??null;case"Full Diff":for(let e of r.resource.rootObjects){let r=e.findDescendant(e=>e.id===t,{includeSelf:!0});if(r)return r}return null;default:return null}});function W(e,t,r=!1){return!e&&t?"REMOVED":!t&&e?"CREATED":e?.value&&t?.value&&(e.value.type!==t.value.type||!f()(e.value.value,t.value.value))?"MODIFIED":r?"CHILD_MODIFIED":void 0}var z=r(966159),X=r(27087),J=r(752568),q=(e=>(e[e.Fetched=0]="Fetched",e[e.Fetching=1]="Fetching",e[e.NeverFetched=2]="NeverFetched",e))(q||{});let Q=(0,y.eU)(e=>{let t=e(v.OC);return"fullscreen"===t.view?`/api/file/scenegraph_validations/${t.fileKey}`:(0,D.E)(t)&&t.urlParams?.type==="server_file"?`/api/admin/scenegraph_validations/${t.urlParams.key}`:null}),Z=(0,y.eU)(e=>null!=e(Q)),ee=(()=>{let e=(0,y.eU)((0,z.Ok)());return(0,y.eU)(t=>t(e),async(t,r)=>{let n;if(t(e).status===d.r.LOADING)return;let i=t(Q);if(i){r(e,(0,z.ux)());try{n=await et(i)}catch(t){r(e,(0,z.uW)(t));return}r(e,(0,z.NY)(n))}})})();async function et(e){let t=await (0,X.GD)(e),r=new J._;for(let e of t.data.meta.data.results.violations)if("always-fail-for-testing"!==e.name)for(let t of e.instances)r.add(t.guid,t.message);return r}var er=r(749070),en=r(457473),ei=r(806247),es=r(561546),ea=r(922827),el=r(461816),eo=r.n(el);function ec(e,t,r){let n={...e},i=!1;for(let e of t)i=i||n[e]!==r,n[e]=r;return i?n:e}function ed(e,t){let r={...e},n=!1;for(let e of t)n=n||e in r,delete r[e];return n?r:e}var eu=(e=>(e[e.No=0]="No",e[e.Yes=1]="Yes",e))(eu||{});function eh(e,t,r,n=1){let i=[t,...r];return e[t]?n?ed(e,i):ec(e,i,!1):ec(e,i,!0)}function em(e){return function(e=1,t=(0,y.eU)({})){return(0,y.eU)(e=>e(t),(r,n,i,s)=>{n(t,eh(r(t),i,s??[],e))})}(0,(0,y.eU)(t=>t(A)[e]??{},(t,r,n)=>r(A,t=>({...t,[e]:n}))))}let eg=em("middlePanelExpandedProperties"),ep=em("middlePanelPinnedProperties"),ef=em("rightPanelExpandedProperties"),ey=em("rightPanelPinnedProperties");function eE(e,t,r){return[...e.getObject(r)?.mapDescendants(e=>e.id)??[],...t?.getObject(r)?.mapDescendants(e=>e.id)??[]]}let eI=(0,l.FZ)((0,y.eU)({}),(e,t,r)=>{let n=r(E.Cc),i=r(E.lX);switch(t.type){case"toggleExpanded":return eh(e,t.objectId,t.toggleSubtree?eE(n,i,t.objectId):[]);case"expandAncestors":return ec(e,function(e,t,r){return[...e.getObject(r)?.mapAncestors(e=>e.id)??[],...t?.getObject(r)?.mapAncestors(e=>e.id)??[]]}(n,i,t.objectId),!0);case"expandDescendants":return ec(e,[t.objectId,...eE(n,i,t.objectId)],!0);case"collapseDescendants":return ed(e,[t.objectId,...eE(n,i,t.objectId)])}});var eb=r(838516),eS=r(966664);let eC=(0,y.eU)({status:"initial"}),ev=(0,y.eU)(0),eT=(0,y.eU)(!1),eD=(0,y.eU)(e=>{if(e(eT)){let t=e(ev);return`Indexing search results (this may take a moment)... [${t}/???]`}return null}),eN=B("searchMode",P.Search),ex=(0,y.eU)(e=>{let t=e(eC),r=e(E.Cc),n=e(F);return"initial"===t.status?n.map(e=>r.getObject(e)).filter(eS.Vq).map(e=>({object:e,matches:[]})).reverse():"results"in t&&t.results.length>0?t.results:null}),eP=(0,y.eU)(e=>{let t=e(eC);if("searching"===t.status&&0===t.results.length){let t=["Searching..."],r=e(eD);return r&&t.push(r),t}if("success"===t.status&&0===t.results.length){let t=["No results found."],r=e(E.Cc);return r instanceof N.G2&&t.push("Some content may be unavailable because of incremental loading"),"hide"===r.sensitiveTextPolicy&&t.push("Searching text fields is limited beacuse text redaction has been applied."),t}return"error"===t.status?["Error searching:",String(t.error)]:null}),eA=(0,y.eU)(e=>{if(e(eN)!==P.Filter)return null;let t=e(eC);return"results"in t?t.results.map(e=>e.object):null}),eB=(0,y.eU)(e=>{if(e(eN)!==P.Filter)return null;let t=e(eP);return t?t.join(" "):null}),e_=B("sortOrder",x.Position),eO=(0,y.eU)(e=>{let t=[x.Position,x.Name,x.NodeId];return e(E.Cc).rootObjects[0]?.displayProperties.memoryFraction!=null&&t.push(x.Memory),t.sort(),t}),eL=(0,y.eU)(e=>{switch(e(e_)){case x.Position:return ew;case x.Name:return eF;case x.Memory:return ek;case x.NodeId:return eR}});function eF(e,t){return e.displayProperties.name.localeCompare(t.displayProperties.name)}function ew(e,t){let[r,n]=eV(e,t);if(r&&n){let e=r.parentIndex?.position,t=n.parentIndex?.position;if(null==e&&null==t)return 0;if(null==t)return 1;if(null==e)return -1;if(e<t)return -1;else if(e>t)return 1}return eF(e,t)}function eR(e,t){let[r,n]=eV(e,t);if(r&&n){let{sessionID:e,localID:t}=r.guid??{localID:-1,sessionID:-1},{sessionID:i,localID:s}=n.guid??{localID:-1,sessionID:-1};return e-i||t-s}return ew(e,t)}function ek(e,t){return(t.displayProperties.memoryFraction??0)-(e.displayProperties.memoryFraction??0)||ew(e,t)}function eV(e,t){return"nodeChange"in e&&"nodeChange"in t?[e.nodeChange,t.nodeChange]:[null,null]}var eM=r(331221),eU=r(602881),eG=r(397565);function e$({badges:e}){return n.createElement(m.Y,{width:"hug-contents"},e.map((e,t)=>n.createElement(eH,{key:t,badge:e})))}function eH({badge:e}){switch(e.type){case"type":return n.createElement(e1,{type:e.value,tracked:e.tracked});case"phase":return n.createElement(e7,{phase:e.value});case"change":return n.createElement(e5,{type:e.value});case"editType":return n.createElement(tt,{type:e.value});default:return n.createElement(tn,{...e})}}let ej=u.cx.px4.minW10.inlineBlock.bRadius4.h16.flex.alignCenter.justifyCenter.fontSemiBold,eY=ej.colorBgSecondary.colorText.$,eK=ej.colorBgBrandSecondary.colorTextOnbrand.$,eW=ej.colorBgBrand.colorTextOnbrand.$,ez=ej.colorBgSuccess.colorTextOnsuccess.$,eX=ej.colorBgWarning.colorTextOnwarning.$,eJ=ej.colorBgDanger.colorTextOndanger.$,eq=ej.minW28.w28.colorBg.b1.h14,eQ={[eG.SP.Editor]:eq.colorBorderDesign.colorTextDesignSecondary.$,[eG.SP.DesignSystems]:eq.colorBorderComponent.colorTextComponent.$,[eG.SP.FigJam]:eq.colorBorderFigjam.colorBorderFigjam.$,[eG.SP.Page]:eq.colorBorder.colorText.$,[eG.SP.Other]:eq.colorBorderSuccess.colorTextSuccessSecondary.$},eZ={fontSize:9,lineHeight:"16px",fontStyle:"normal"},e0={fontSize:9,lineHeight:"14px",fontStyle:"normal"};function e1({type:e,tracked:t=!0}){return n.createElement("div",{title:`${e}${t?" (tracked)":" (untracked)"}`,className:eQ[(0,eG.p7)(e)],style:{...e0,...t?{}:{borderStyle:"dashed"}}},eG.uy[e])}let e6={CREATED:ez,MODIFIED:eK,CHILD_MODIFIED:eW,REMOVED:eJ};function e5({type:e}){return n.createElement("div",{title:e,className:e6[e],style:eZ},eM.x[e])}let e4=ej.minW24.w24.colorBg.b1.h14,e3={CREATED:e4.colorBorderSuccess.colorTextSuccessSecondary.$,MODIFIED:e4.colorBorderBrand.colorTextBrandSecondary.$,REMOVED:e4.colorBorderDanger.colorTextDangerSecondary.$};function e7({phase:e}){return n.createElement("div",{title:e,className:e3[e],style:e0},eM.z[e])}let e2=ej.minW28.w28.colorBg.b1.h14,e8=e2.colorBorderComponent.colorTextComponent.$,e9=e2.colorBorderComponent.colorTextComponentTertiary.$,te=e2.colorBorderWarning.colorTextWarning.$;function tt({type:e}){return n.createElement("div",{title:`Edit scope type: ${e}`,className:"MIXED"===e?e9:eU.YY.has(e)?e8:te,style:e0},eU.nP[e])}let tr={info:eY,warning:eX,error:eJ};function tn({type:e,value:t,title:r}){return n.createElement("div",{title:r,className:tr[e],style:eZ},t)}var ti=r(396353),ts=r(629019),ta=r.n(ts),tl=r(686759);let to="badge_display--canUnderline--aufN5";function tc({id:e}){let t=(0,l.md)(E.Cc),r=(0,l.md)(E.lX),i=t.getObject(e)??r?.getObject(e)??null;return n.createElement(tv,{target:i,text:e,errorIfMissing:!0})}function td({guid:e,scene:t}){let r=t.getNodeByGuid(e);return n.createElement(tv,{target:r,errorIfMissing:t.isComplete,text:T.c1.format(e)})}function tu({styleId:e,scene:t}){let r=t.getStyleByStyleId(e);return n.createElement(tv,{target:r,errorIfMissing:t.isComplete,text:(0,T.r4)(e,ti.PK),fullText:ti.PK.toString(e)})}function th({variableId:e,scene:t}){let r=t.getVariableByVariableId(e);return n.createElement(tv,{target:r,errorIfMissing:t.isComplete,text:(0,T.r4)(e,ti.sD),fullText:ti.sD.toString(e)})}function tm({variableCollectionId:e,scene:t}){let r=t.getVariableCollectionByCollectionId(e);return n.createElement(tv,{target:r,errorIfMissing:t.isComplete,text:(0,T.r4)(e,ti.gr),fullText:ti.gr.toString(e)})}function tg({codeComponentId:e,scene:t}){let r=t.getCodeComponentById(e);return n.createElement(tv,{target:r,errorIfMissing:t.isComplete,text:(0,T.r4)(e,ti._H),fullText:ti._H.toString(e)})}function tp({codeLibraryId:e,scene:t}){let r=t.getCodeLibraryById(e);return n.createElement(tv,{target:r,errorIfMissing:t.isComplete,text:(0,T.r4)(e,ti.eJ),fullText:ti.eJ.toString(e)})}function tf({codeFileId:e,scene:t}){let r=t.getCodeFileById(e);return n.createElement(tv,{target:r,errorIfMissing:t.isComplete,text:(0,T.r4)(e,ti.Tq),fullText:ti.Tq.toString(e)})}function ty({id:e,secondary:t}){return n.createElement(tT,{colorStyle:t?2:1,text:e,isValid:!0})}function tE({guid:e}){return n.createElement(tT,{colorStyle:1,text:T.c1.format(e),isValid:T.c1.isValid(e)})}function tI({guidPath:e}){return n.createElement(tT,{colorStyle:1,text:T.dB.format(e),isValid:T.dB.isValid(e)})}var tb=(e=>(e[e.Invalid=0]="Invalid",e[e.Normal=1]="Normal",e[e.Seconary=2]="Seconary",e[e.Link=3]="Link",e))(tb||{});let tS=u.cx.inlineBlock,tC={0:tS.colorTextDanger.$,1:tS.colorText.fontSemiBold.$,2:tS.colorTextSecondary.$,3:tS.colorTextFigjam.fontSemiBold.$};function tv({target:e,text:t,errorIfMissing:r,fullText:i}){let s=(0,o.Xr)(_);return null==e?n.createElement(tT,{colorStyle:r?0:3,text:t,copyOnClickText:i,isValid:!1}):n.createElement("span",{role:"button",className:ta()(u.cx.inlineBlock.$,"badge_display--guidLink--3Avjv"),onClick:()=>s(e.id)},n.createElement(m.Y,{spacing:4},n.createElement(e$,{badges:e.displayProperties.leftBadges}),n.createElement("span",{className:ta()(tC[3],to)},t),n.createElement("span",{className:ta()(tC[3],to,u.cx.fontNormal.$)},e.displayProperties.name)))}function tT({colorStyle:e,text:t,copyOnClickText:r,isValid:i}){let s=tC[i?e:0];return null==r?n.createElement("span",{className:s},t):n.createElement("span",{className:s,role:"button",onClick:()=>{(0,tl.Dk)(r).then(()=>window.alert(`Copied ${r} to clipboard`)).catch(()=>window.alert(r))}},t)}var tD=r(602126),tN=r(268537),tx=r(939863),tP=r(885456);let tA=tN.ms,tB=tN.c$,t_=tN.wv;function tO({contextMenuData:{objectId:e,position:t},onClose:r}){let[i,s]=n.useState(0),a=t.left,c=t.top+i>window.innerHeight?t.top-i:t.top,{canSelectInApp:d,selectInApp:u}=n.useContext(M),m=n.useRef(null);(0,tD.ww)(m,r);let g=(0,l.md)(E.Cc).getObject(e),p=g instanceof tP.E?g:null,[f,y]=(0,l.fp)(j),I=(0,o.Xr)(eI);if(null==g)return null;let b=e=>()=>{e(),r()},S=g.children.length>0,C=(()=>{if(d?.(g))return b(()=>u(g))})(),v=p&&(p.isInternalOnly||"DOCUMENT"===p.nodeType||"CANVAS"===p.nodeType),T=e=>b(()=>ea.glU.triggerAction(e,{guid:g.id})),D=f?.object.id===g.id;return n.createElement(tA,{style:{...h.sx.fixed.$,left:a,top:c},dropdownRef:e=>{e&&s(e.clientHeight)}},n.createElement("div",{ref:m},C&&n.createElement(tB,{onClick:C},"Jump to node"),S&&n.createElement(tB,{onClick:b(()=>I({type:"expandDescendants",objectId:e}))},"Expand descendants"),S&&n.createElement(tB,{onClick:b(()=>I({type:"collapseDescendants",objectId:e}))},"Collapse descendants"),(C||S)&&n.createElement(t_,null),D&&n.createElement(tB,{onClick:b(()=>y({type:"clear"}))},"Stop diffing against this node"),(!D||f?.type!==$.Layer)&&n.createElement(tB,{onClick:b(()=>y({type:"start",diffType:$.Layer,id:e}))},"Layer diff against this node"),(!D||f?.type!==$.Tree)&&n.createElement(tB,{onClick:b(()=>y({type:"start",diffType:$.Tree,id:e}))},"Tree diff against this node"),!v&&n.createElement(t_,null),!v&&C&&p&&"DOCUMENT"!==p.type&&"CANVAS"!==p.type&&n.createElement(tB,{onClick:T("debug-print-as-test-code")},(0,tx.tx)("fullscreen_actions.debug-print-as-test-code")),!v&&C&&p&&"VECTOR"===p.type&&n.createElement(tB,{onClick:T("debug-print-vector-network-as-test-code")},(0,tx.tx)("fullscreen_actions.debug-print-vector-network-as-test-code"))))}var tL=r(358145),tF=r(723325),tw=r(139137);let tR=n.createContext(()=>!1);function tk({children:e,className:t,style:r}){let i=n.useRef(null),s=n.useCallback(()=>!!i.current?.contains(document.activeElement),[]);return n.createElement(tF.dP,{ref:i,className:t,style:r,allowVim:!0},n.createElement(tR.Provider,{value:s},e))}let tV="tree_row--expansionToggle--mYjsb";function tM({children:e,changeType:t,isExpanded:r,isLeaf:i,isPinned:s,isSelected:a,isChanging:l,indent:o,style:c,keyboardNavigationPath:d,toggleExpanded:u,togglePinned:h,select:m,onContextMenu:g,onMouseEnter:p,onMouseLeave:f}){let{setKeyboardNavigationElement:y,keyboardNavigationItem:E,isFocused:I}=(0,tF.M3)({path:d}),b=n.useContext(tR),S=(0,tL.ZC)(a);n.useEffect(()=>{!S&&a&&!I&&b()&&E?.focus()},[I,S,a,E,b]);let C=n.useRef(!1),v=n.useCallback(e=>e.target instanceof Element&&"BUTTON"===e.target.tagName,[]),T=n.useCallback(e=>!!(e.target instanceof Element&&(e.target.classList.contains(tV)||e.target.parentElement?.classList.contains(tV))),[]);return n.createElement("button",{ref:y,style:c,className:ta()("tree_row--treeItem--6gIYH",{"tree_row--selected--url1U":a||I,"tree_row--changing--E9CSm":l}),onFocus:m,onMouseDown:e=>{(v(e)||T(e))&&e.detail>1&&e.preventDefault(),T(e)?C.current=e.detail>1:C.current=!0},onClick:e=>{C.current?C.current=!1:u(e.metaKey||e.altKey),e.currentTarget.focus()},onMouseEnter:p,onMouseLeave:f,onDoubleClick:e=>{T(e)||u(e.metaKey)},onKeyDown:e=>{(r&&(0,tF.yn)(e.code,!0)||!r&&(0,tF.lv)(e.code,!0))&&u(e.metaKey)},onContextMenu:g},n.createElement(tw.Y,null,n.createElement(tU,{indent:o,isLeaf:i,isExpanded:r}),e,h&&n.createElement(tG,{isPinned:!!s,togglePinned:h}),t&&n.createElement(e5,{type:t})))}function tU({indent:e,isLeaf:t,isExpanded:r}){return n.createElement("div",{className:ta()(tV,!t&&"tree_row--clickable--ttIc9"),style:{paddingLeft:14*e,width:14,minHeight:14}},n.createElement("span",null,t?"":r?"\u25BC":"\u25B6"))}function tG({isPinned:e,togglePinned:t}){return n.createElement("span",{onClick:t,className:e?"tree_row--unpinToggle--CU4-x tree_row--_pinToggleBase--W1djM":"tree_row--pinToggle--wbULT tree_row--_pinToggleBase--W1djM"},e?"Unpin":"Pin")}let t$=n.memo(function({diffType:e,id:t,primaryId:r,secondaryId:i,leftBadges:s,indent:a,index:l,isExpanded:o,isLeaf:c,isSelected:d,memoryFraction:h,rightBadges:g,additionalBadges:p,name:f,style:y,select:E,toggle:I,showContextMenu:b}){let S=n.useCallback(e=>{e.preventDefault(),b({objectId:t,position:{left:e.clientX,top:e.clientY}})},[t,b]);return n.createElement(tM,{changeType:e,keyboardNavigationPath:[l],isSelected:d,isLeaf:c,isExpanded:o,indent:a,style:y,select:()=>E(t),toggleExpanded:e=>I(t,e),onContextMenu:S,onMouseEnter:()=>{ea.Ez5&&ea.Ez5.editorState().figmaScopeHighlightedNode.set(t)},onMouseLeave:()=>{ea.Ez5&&ea.Ez5.editorState().figmaScopeHighlightedNode.set("")}},n.createElement(e$,{badges:s}),n.createElement(ty,{id:r}),i&&n.createElement(ty,{id:i,secondary:!0}),n.createElement("div",{title:f,className:u.cx.ellipsis.noWrap.overflowHidden.$},f),n.createElement(m.M,null),n.createElement(e$,{badges:g}),p&&n.createElement(e$,{badges:p}),null!=h&&n.createElement("span",{className:u.cx.colorTextSecondary.$,title:"Node memory usage"},(100*h).toFixed(3),"%"))});function tH({style:e,data:{displayedObjects:t,selectedId:r,...i},index:s}){let a=t[s],l=(0,b.zN)(e);return n.createElement(t$,{...a,...i,isSelected:r===a.id,style:l,index:s})}function tj(){let e=(0,l.md)(tY),[t,r]=(0,l.fp)(_),[i,s]=n.useState(null),a=n.useRef(null);n.useEffect(()=>{let r=e.findIndex(e=>e.id===t);r>=0&&a.current?.scrollToItem(r,"smart")},[e,t]);let c=(0,o.Xr)(eI);n.useEffect(()=>{c({type:"expandAncestors",objectId:t})},[c,t]);let d=n.useCallback((e,t)=>{c({type:"toggleExpanded",objectId:e,toggleSubtree:t})},[c]),u=(0,l.md)(eB);return 0===e.length?n.createElement("div",null,u??"Empty Scene"):n.createElement(n.Fragment,null,n.createElement(en.A,{disableWidth:!0},({height:i})=>n.createElement(ei.Y1,{itemSize:18,itemCount:e.length,height:i,ref:a,itemData:{displayedObjects:e,selectedId:t,select:r,toggle:d,showContextMenu:s},width:"100%"},tH)),i&&n.createElement(tO,{contextMenuData:i,onClose:()=>{s(null)}}))}let tY=(0,y.eU)(e=>e(tK)??e(tW)),tK=(0,y.eU)(e=>{let t=e(eA);if(!t)return null;let r=e(E.Cc);return t.map(e=>({...e.displayProperties,diffType:void 0,additionalBadges:r.getAdditionalBadges?.(e.id)??[],id:e.id,indent:0,isExpanded:!1,isLeaf:!0}))}),tW=(0,y.eU)(e=>{let t=e(E.Cc),r=t.rootObjects,n=e(Y),i=e(eI),s=e(eL),a=(()=>{switch(n.type){case $.Tree:return[n.object];case $.Full:return n.resource.rootObjects;default:return[]}})(),l={resource:t,sortFn:s,expandedIds:i};return eo()(r,e=>{if(!e)return[];if(0===a.length)return tz(e,0,l);let t=tJ(e,a);return t?tX(e,t,0,l):function e(t,r,n,i){let s=t.id,a=t.children,l=0===a.length,o=!!i.expandedIds[s],c=!1,d=eo()(a,t=>{let s=(()=>{let s=tJ(t,r);if(s)return tX(t,s,n+1,i);let a=r.filter(e=>e.someAncestor(e=>e.id===t.id,{includeSelf:!0}));return a.length>0?e(t,a,n+1,i):tz(t,n+1,i)})();return c=c||s[0]?.diffType!=null,s}),u={...t.displayProperties,diffType:c?"CHILD_MODIFIED":void 0,additionalBadges:i.resource.getAdditionalBadges?.(s)??[],id:s,indent:n,isExpanded:o,isLeaf:l};return o?[u,...d]:[u]}(e,a,0,l)})});function tz(e,t,r){let n=e.id,i=e.children,s=0===i.length,a=!!r.expandedIds[n],l={...e.displayProperties,diffType:void 0,additionalBadges:r.resource.getAdditionalBadges?.(n)??[],id:n,indent:t,isExpanded:a,isLeaf:s};return a?[l,...eo()(tq(i,r.sortFn),e=>tz(e,t+1,r))]:[l]}function tX(e,t,r,n){let i=e??t;if(!i)throw Error("Diffing two nothings");if(e&&t&&e.id!==t.id)throw Error("Diffing nodes with mismatched keys");let s=i.id,a=tq(e?.children??[],n.sortFn),l=tq(t?.children??[],n.sortFn),o=(0,es.TR)(a,l,e=>e.id),c=!1,d=eo()(o,({left:e,right:t})=>{let i=tX(e,t,r+1,n);return c=c||i[0]?.diffType!=null,i}),u=function(e,t,r=!1){if(!e)return"REMOVED";if(!t)return"CREATED";let n=e.rawProperties,i=t.rawProperties;if(n.length!==i.length)return"MODIFIED";for(let e=0;e<n.length;e++)if(void 0!==function e(t,r){let n=W(t,r);if(void 0!==n)return n;let i=t.children,s=r.children;if(i.length!==s.length)return"CHILD_MODIFIED";for(let t=0;t<i.length;t++)if(void 0!==e(i[t],s[t]))return"CHILD_MODIFIED"}(n[e],i[e]))return"MODIFIED";return r?"CHILD_MODIFIED":void 0}(e,t,c),h=e?.displayProperties.name,m=t?.displayProperties.name,g=null!=h&&null!=m&&h!==m?`${h} <=> ${m}`:i.displayProperties.name,p=!!n.expandedIds[s],f={...i.displayProperties,diffType:u,additionalBadges:n.resource.getAdditionalBadges?.(s)??[],id:s,indent:r,isExpanded:p,isLeaf:0===o.length,name:g};return p?[f,...d]:[f]}function tJ(e,t){return t.find(t=>t.id===e.id)}function tq(e,t){return e.slice().sort(t)}var tQ=r(875917);function tZ({searchRef:e}){let t=(0,o.Xr)(_),r=(0,l.md)(ex),i=(0,l.md)(eP),[s,a]=n.useState(!1),c=(0,l.md)(eN)!==P.Filter&&s,d=n.useRef(null);(0,tD.ww)(d,()=>a(!1));let h=n.useCallback(e=>{a(!1),t(e.object.id)},[a,t]);return n.createElement(tF.dP,{className:u.cx.flex1.$,ref:d,allowVim:!0},n.createElement(t0,{searchRef:e,setShowSearchResults:a}),c&&(r?n.createElement(t6,{searchResults:r,selectResult:h}):i?n.createElement(t5,{text:i}):null))}function t0({searchRef:e,setShowSearchResults:t}){let r=(0,l.md)(eN),i=function(){let e=(0,l.md)(E.Cc),t=(0,o.Xr)(eC),r=(0,o.Xr)(ev),i=(0,o.Xr)(eT),s=n.useRef(0),a=n.useMemo(()=>(0,eb.s)(n=>{let a=++s.current;i(!0);let l=new TaskController({priority:"user-visible"});scheduler.postTask(()=>i(!0),{signal:l.signal,delay:300}).catch(()=>{}),e.getSearch(r).then(e=>e.searchWithText(n)).then(e=>{l.abort(),a===s.current&&t({status:"success",results:e})}).catch(e=>{console.error(e),l.abort(),a===s.current&&t({status:"error",error:e})})},200),[e,r,t,i]);return n.useCallback(e=>0===e.length?t({status:"initial"}):a(e),[a,t])}(),{setKeyboardNavigationElement:s}=(0,tF.M3)({path:[0,0],id:"input"});return n.createElement("input",{ref:t=>{s(t),e.current=t},type:"text",placeholder:r,className:"search_bar--searchBar--qnpUm",onChange:e=>i(e.target.value),onFocus:()=>t(!0)})}function t1({children:e}){return n.createElement("div",{className:u.cx.absolute.zIndexModal.colorBg.b1.colorBorder.mt2.overflowAuto.$,style:{maxHeight:450,minWidth:500,boxShadow:"0px 2px 14px var(--color-shadow, rgba(0, 0, 0, 0.15))"}},e)}function t6({searchResults:e,selectResult:t}){return n.createElement(t1,null,e.map((e,r)=>n.createElement(t4,{key:e.object.id,result:e,index:r,onClick:()=>t(e)})))}function t5({text:e}){return n.createElement(t1,null,(Array.isArray(e)?e:[e]).map((e,t)=>n.createElement("div",{key:t,className:u.cx.colorBg.colorTextSecondary.px8.py4.$},e)))}function t4({result:e,index:t,onClick:r}){let{object:i,matches:s}=e,{displayProperties:a}=i,{setKeyboardNavigationElement:l,keyboardNavigationItem:o,isFauxFocused:c}=(0,tF.M3)({path:[1,t],id:i.id});return n.useEffect(()=>{o&&0===t&&o.fauxFocus()},[o,t]),n.createElement("button",{ref:l,className:ta()(u.cx.block.wFull.px4.py8.colorText.flex.itemsCenter.alignLeft.$,"search_bar--searchResult--0iOvc",c&&"search_bar--fauxFocus--BYHwu"),onClick:r},n.createElement(m.Y,{spacing:4},n.createElement(e$,{badges:a.leftBadges}),n.createElement(ty,{id:i.displayProperties.primaryId}),n.createElement(tQ.R,{className:u.cx.overflowHidden.$,text:a.name}),n.createElement(m.M,null),s.filter(({property:e})=>!["id","guid","name","type","phase"].includes(e)).map(({property:e,value:t},r)=>n.createElement(m.Y,{key:r,spacing:4,width:"hug-contents"},n.createElement("div",null,e,":"),n.createElement("div",null,t)))))}var t3=r(163023);function t7({children:e}){return n.createElement("div",{className:u.cx.colorBorder.px8.py4.bb1.bSolid.$},n.createElement(m.Y,null,e))}function t2(e){let t={className:"toolbar_components--iconButton--1-XNe",children:n.createElement(t3.B,{svg:e.svg}),title:e.label,"aria-label":e.label};return"href"in e?n.createElement("a",{...t,href:e.href,target:"blank"}):n.createElement("button",{...t,onClick:e.onClick,disabled:e.disabled})}var t8=r(444890),t9=r(816679);function re({searchRef:e}){let[t,r]=(0,l.fp)(O),[i,a]=(0,l.fp)(L),o=!!n.useContext(M).selectInApp,[c,d]=(0,l.fp)(eN),[u,h]=(0,l.fp)(R),[m,g]=(0,l.fp)(e_),p=(0,l.md)(eO);return n.createElement(t7,null,n.createElement(tZ,{searchRef:e}),n.createElement("select",{name:"filter-or-search",title:"Determines whether the text box searches or filters",onChange:e=>{d(e.target.value)},defaultValue:c},n.createElement("option",{value:P.Search},"Search"),n.createElement("option",{value:P.Filter},"Filter")),n.createElement("select",{name:"sort",title:"Sets the left panel sort order",onChange:e=>{let t=e.target.value;s.az.trackDefinedEvent("figmascope.sort_order_change",{order:function(e){switch(e){case x.Position:return"position";case x.Name:return"name";case x.Memory:return"memory";case x.NodeId:return"node_id"}}(t)}),g(t)},defaultValue:m},p.map(e=>n.createElement("option",{key:e,value:e},"Sort by ",e))),o&&n.createElement(n.Fragment,null,n.createElement("input",{name:"follow-selection",type:"checkbox",checked:u,onChange:e=>h(e.target.checked)}),n.createElement("label",{htmlFor:"follow-selection"},"Follow")),n.createElement(t2,{label:"Select Previous",onClick:()=>{r(),s.az.trackDefinedEvent("figmascope.select_prev_next",{direction:"prev",source:"button"})},disabled:!t,svg:t8.A}),n.createElement(t2,{label:"Select Next",onClick:()=>{a(),s.az.trackDefinedEvent("figmascope.select_prev_next",{direction:"next",source:"button"})},disabled:!i,svg:t9.A}))}var rt=r(91408),rr=r(837746);let rn=(0,rt.jz)(rr.HJx),ri=(0,rt.jz)(rr.EJM),rs=new WeakMap;function ra(e){let t=rs.get(e);if(void 0!==t)return t;let[r,n]=ea.Vzr.generateThumbnailForNode(T.c1.fromKiwi(e),4*ri,4*rn,4,{forceContentsOnly:!0,isDetatchedComponentScene:!1});if(!n||0===n.length||!r)return rs.set(e,null),null;let{width:i,height:s}=r,a={url:URL.createObjectURL(new Blob([n])),renderWidth:i/4,renderHeight:s/4};return rs.set(e,a),a}var rl=r(140593),ro=r(364898),rc=r(428654),rd=r(2685),ru=r(40963),rh=r(275725),rm=r(620722);let rg=(0,rt.jz)(rr.HJx),rp=(0,rt.jz)(rr.EJM);function rf({thumbnailInput:e}){let t=ra(e),r=(0,rh.c6)(T.c1.fromKiwi(e));return t?n.createElement("div",{className:u.cx.wFull.flex.flexShrink1.itemsCenter.justifyCenter.$,style:r},n.createElement(rm.J,{className:"node_thumbnail_display--thumbnailPreview--9qgOD",src:t.url,width:t.renderWidth>rp?rp:t.renderWidth,height:t.renderHeight>rg?rg:t.renderHeight})):n.createElement("span",{className:u.cx.noWrap.colorTextDesign.$},"Error generating thumbnail")}function ry({value:e}){switch(e.type){case"blobIndex":return n.createElement(rO,{...e});case"userInputtedText":return n.createElement(rT,{...e});case"nonUserText":return n.createElement(rD,{...e});case"boolean":return n.createElement(rv,{...e});case"numeric":return n.createElement(rP,{...e});case"position":return n.createElement(rN,{...e});case"color":return n.createElement(rx,{...e});case"vector":return n.createElement(rA,{...e});case"matrix":return n.createElement(rB,{...e});case"objectId":return n.createElement(tc,{id:e.value});case"nodeGuid":return n.createElement(td,{guid:e.value,scene:e.scene});case"styleId":return n.createElement(tu,{styleId:e.value,scene:e.scene});case"variableId":return n.createElement(th,{variableId:e.value,scene:e.scene});case"variableCollectionId":return n.createElement(tm,{variableCollectionId:e.value,scene:e.scene});case"codeFileId":return n.createElement(tf,{codeFileId:e.value,scene:e.scene});case"codeLibraryId":return n.createElement(tp,{codeLibraryId:e.value,scene:e.scene});case"codeComponentId":return n.createElement(tg,{codeComponentId:e.value,scene:e.scene});case"genericGuid":return n.createElement(tE,{guid:e.value});case"guidPath":return n.createElement(tI,{guidPath:e.value});case"imageHash":return n.createElement(rL,{...e});case"bytes":return n.createElement(r_,{...e});case"metadata":return n.createElement(rR,{...e});case"error":return n.createElement(rk,{...e});case"nodeThumbnail":return n.createElement(rf,{thumbnailInput:e.value});case"editScope":return n.createElement(rw,{...e});case"timestamp":return n.createElement(rR,{value:new Date(e.value).toLocaleString()});default:(0,rl.xb)(e)}}let rE=u.cx.noWrap,rI=rE.colorTextDesign,rb=rE.colorTextSuccess,rS=rE.colorTextDanger,rC=rE.colorTextSecondary;function rv({value:e}){return n.createElement("span",{className:rb.$},e?"TRUE":"FALSE")}function rT({value:e}){let t=(0,l.md)(E.Cc),r=(0,ru.bU)(e,t.sensitiveTextPolicy);return n.createElement("span",{className:rI.$},'"',r,'"')}function rD({value:e}){return n.createElement("span",{className:rI.$},e)}function rN({value:e}){return n.createElement(m.Y,{width:"hug-contents"},n.createElement("span",{className:rI.$},(0,ro.PZ)(e)),n.createElement("span",{className:rC.$},"(compressed: `",e,"`)"))}function rx({value:e}){let t=rc.F.format(e);return n.createElement(m.Y,{width:"hug-contents"},n.createElement("span",{className:u.cx.inlineBlock.w12.h12.bRadius2.$,style:{backgroundColor:t}}),n.createElement("span",{className:rI.$},t))}function rP({value:e}){return n.createElement("span",{className:rb.$},rV(e))}function rA({value:e}){return n.createElement("span",{className:rb.$},`<${rV(e.x||0)}, ${rV(e.y||0)}>`)}function rB({value:e}){let{m00:t,m01:r,m02:i,m10:s,m11:a,m12:l}=e;return n.createElement("span",{className:rb.$},"[",[[t,r,i],[s,a,l]].map(e=>`[${e.map(rV).join(", ")}]`).join(", "),"]")}function r_({value:e}){return n.createElement("span",{className:rb.$},rM(e))}function rO({value:e,scene:t}){let r=t.getBlobByIndex(e);return r===rd.y?n.createElement(rR,{value:`Blob ${e} :: [NOT SUPPORTED]`}):r?n.createElement("span",{className:rb.$},"Blob ",e," ::"," ","string"==typeof r?r:rM(r.bytes)):n.createElement(rk,{value:`Blob ${e} :: [MISSING]`})}function rL({value:e}){let t=rU(e,"");return n.createElement(n.Fragment,null,n.createElement("span",{className:rb.$},t),n.createElement("span",null,n.createElement(rF,{hash:t,name:"staging"})," | ",n.createElement(rF,{hash:t,name:"prod"})))}function rF({hash:e,name:t}){return n.createElement("a",{href:`https://${"staging"===t?"staging-":""}admin.figma.com/admin/image/${e}`},t)}function rw({value:e}){return n.createElement(m.Y,{width:"hug-contents"},n.createElement("span",{className:rb.$},e.type),n.createElement("span",{className:rI.$},e.label),e.editorType&&n.createElement("span",{title:"The editor type active when this scope was opened",className:rC.$},"(",e.editorType.toLowerCase(),")"))}function rR({value:e}){return n.createElement("span",{className:rC.$},"(",e,")")}function rk({value:e}){return n.createElement("span",{className:rS.$},e)}function rV(e){return"bigint"==typeof e||e%1==0?e.toString():e.toFixed(4)}function rM(e){return`binary[${e.length}] = ${rU(e," ")}`}function rU(e,t){let r="";for(let n=0;n<e.length;++n){if(n>=30){r+="...";break}r+=function(e){let t=e.toString(16);return 1===t.length?"0"+t:t}(e[n]),r+=t}return r}let rG=(0,rt.jz)(rr.hVg),r$=(0,rt.jz)(rr.k$X),rH=n.memo(function({panel:e,items:t,diffItems:r,extraItems:i}){let[s,a]=(0,l.fp)("middle"===e?eg:ef),[o,c]=(0,l.fp)("middle"===e?ep:ey),d=n.useMemo(()=>{let e=[];for(let t of i??[])e=e.concat(rq(t,0,void 0,s,o));let n=rX(t??[],void 0,o),a=null!=r,l=rX(r??[],void 0,o);for(let t of(0,es.TR)(n,l,e=>rW(e,void 0)))e=a?e.concat(rQ(t.left,t.right,0,void 0,s,o)):e.concat(rq(t.left??t.right,0,void 0,s,o));return e},[t,r,i,s,o]),u=n.createRef();function h(e){if(void 0!==d[e]){let t=d[e].value;if(t&&"nodeThumbnail"===t.type){let e=ra(t.value);if(e)return e.renderHeight+r$}}return rG}return n.useEffect(()=>{u.current?.resetAfterIndex(0)},[u,d]),n.createElement(en.A,{disableWidth:!0},({height:t})=>n.createElement(ei._m,{ref:u,itemSize:h,itemCount:d.length,height:t,itemKey:e=>d[e].expansionKey,itemData:{panel:e,displayedProperties:d,togglePropertyExpanded:a,togglePropertyPinned:c},width:"100%"},rj))});function rj({style:e,index:t,data:{panel:r,displayedProperties:i,togglePropertyExpanded:s,togglePropertyPinned:a}}){let l=i[t],o=(0,tL.ZC)(l),[c,d]=n.useState(!1),u=n.useRef(void 0);n.useEffect(()=>{o&&null!=W(o,l)&&(clearTimeout(u.current),d(!0),u.current=setTimeout(()=>d(!1),250))},[l,o]),n.useEffect(()=>()=>clearTimeout(u.current),[]);let h=(0,b.zN)(e);return n.createElement(rK,{...l,style:h,isChanging:c,panel:r,index:t,togglePropertyExpanded:s,togglePropertyPinned:a})}let rY=n.memo(function({diffValue:e,value:t}){return n.createElement(m.Y,{width:"hug-contents"},null!=e&&n.createElement(ry,{value:e}),null!=e&&n.createElement("span",null,"\u21E8"),null!=t&&n.createElement(ry,{value:t}))}),rK=n.memo(function({childExpansionKeys:e,expansionKey:t,indent:r,isExpanded:i,isChanging:a,isPinned:l,isLeaf:o,isImage:c,label:d,index:h,style:g,value:p,diffValue:f,diffType:y,panel:E,togglePropertyExpanded:I,togglePropertyPinned:b}){return n.createElement(tM,{keyboardNavigationPath:[h],isLeaf:o,isExpanded:i,isChanging:a,indent:c?0:r,style:c?{...g,height:"fit-content",width:"100%",alignItems:"flex-start"}:g,toggleExpanded:r=>{i||s.az.trackDefinedEvent("figmascope.expand_row",{field:d,panel:E}),I(t,r?e:[])},isPinned:l,togglePinned:c?void 0:()=>{l||s.az.trackDefinedEvent("figmascope.pin_row",{field:d,panel:E}),b(t)},changeType:y},c?n.createElement(rY,{diffValue:f,value:p}):n.createElement(n.Fragment,null,n.createElement("span",{className:u.cx.colorText.$},d),n.createElement("div",{className:u.cx.ellipsis.noWrap.overflowHidden.alignCenter.$},n.createElement(rY,{diffValue:f,value:p}))),n.createElement(m.M,null))}),rW=(e,t)=>{let r=e.key??e.label;return t?[t,r].join("."):r},rz=(e,t)=>!!t[e],rX=(e,t,r)=>[...e.filter(e=>rz(rW(e,t),r)),...e.filter(e=>!rz(rW(e,t),r))],rJ=(e,t,r,n)=>{if(e)return!1;let i=n[t];return null!=i?i:r??!1},rq=(e,t,r,n,i)=>{let s=rW(e,r),a=0===e.children.length,l=e.value?.type==="nodeThumbnail",o=rJ(a,s,e.expandByDefault,n),c=eo()(rX(e.children??[],s,i),e=>rq(e,t+1,s,n,i)),d={label:e.label,value:e.value,isExpanded:o,isLeaf:a,isImage:l,indent:t,expansionKey:s,childExpansionKeys:eo()(c,e=>[e.expansionKey,...e.childExpansionKeys]),isPinned:rz(s,i)};return o?[d,...c]:[d]},rQ=(e,t,r,n,i,s)=>{let a=e??t;if(!a)throw Error("Nothing to diff");if(e&&t&&rW(e,n)!==rW(t,n))throw Error("Mismatched keys");let l=rW(a,n),o=rX(e?.children??[],l,s),c=rX(t?.children??[],l,s),d=(0,es.TR)(o,c,e=>rW(e,l)),u=!1,h=eo()(d,({left:e,right:t})=>{let n=rQ(e,t,r+1,l,i,s);return u=u||null!=n[0].diffType,n}),m=0===d.length,g=W(e,t,u),p=rJ(m,l,a.expandByDefault??!1,i),f=a.value?.type==="nodeThumbnail",y={label:a.label,value:a.value,diffValue:e&&t&&g?t?.value:void 0,isExpanded:p,isLeaf:m,isImage:f,indent:r,expansionKey:l,childExpansionKeys:eo()(h,e=>[e.expansionKey,...e.childExpansionKeys]),isPinned:rz(l,s),diffType:g};return p?[y,...h]:[y]};var rZ=r(946689),r0=r(506563),r1=r(91365),r6=r(167198),r5=r(247866),r4=r(630834);function r3({selectedObject:e,diffObject:t,onClose:r}){let i=(0,l.md)(Z),[s,a]=(0,l.fp)(j);return n.createElement(t7,null,e?s&&t?n.createElement(r8,{selectedObject:e,diffObject:t,diffState:s,setDiffState:a}):n.createElement(r2,{object:e}):t?n.createElement(r2,{object:t}):n.createElement(m.M,null),i&&n.createElement(r9,null),n.createElement(t2,{label:"Help",href:r0.e,svg:r1.A}),r&&n.createElement(t2,{label:"Close FigmaScope",onClick:r,svg:r4.default}))}let r7=u.cx.flex1.ml10.my4.$;function r2({object:e}){return n.createElement("div",{className:r7},n.createElement("span",{className:u.cx.fontSemiBold.$},e.displayProperties.longName))}function r8({selectedObject:e,diffObject:t,diffState:r,setDiffState:i}){let s=(0,o.Xr)(_);return n.createElement("div",{className:u.cx.flex1.ml10.my4.$},n.createElement("div",null,n.createElement("span",{className:u.cx.colorTextSecondary.$},"Diffing "),n.createElement("span",{className:u.cx.fontSemiBold.$},e.displayProperties.longName),n.createElement("span",{className:u.cx.colorTextSecondary.$}," against "),n.createElement("span",{className:u.cx.fontSemiBold.$},t.displayProperties.longName)),r&&n.createElement("div",{className:u.cx.colorTextSecondary.mt8.$},n.createElement(m.Y,{spacing:8,width:"hug-contents",height:"hug-contents",verticalAlignItems:"start"},n.createElement("span",null,"Snapshot of"," ",n.createElement(rZ.CY,{onClick:()=>s(r.object.id),className:u.cx.colorTextFigjam.fontSemiBold.$,trusted:!0},r.object.displayProperties.name),r.type===$.Tree&&" and full subtree"," was taken at"," ",r.time.toLocaleTimeString("en-US")),n.createElement(rZ.CY,{onClick:()=>i({type:"refresh"}),className:u.cx.colorTextDesign.$,trusted:!0},"Refresh"),n.createElement(rZ.CY,{onClick:()=>i({type:"clear"}),className:u.cx.colorTextDanger.$,trusted:!0},"Finish"))))}function r9(){let[e,t]=(0,l.fp)(ee),r=e.status===d.r.LOADING;return n.useEffect(()=>{t()},[t]),n.createElement(t2,{label:r?"Fetching scene graph validation failures":"Refetch scenegraph validation failures",onClick:t,svg:r?r6.A:r5.A})}let ne=n.memo(function({embedded:e=!1,emptyStateContent:t,onClose:r,appSelection:i,setAppSelection:s}){let a=(0,l.md)(E.lu);switch(a.status){case d.r.INIT:return t??n.createElement(er.zG,null);case d.r.LOADING:return n.createElement(er.zG,null);case d.r.FAILURE:return n.createElement(er.rf,{error:a.error});case d.r.SUCCESS:}if(0===a.value.primaryResource.rootObjects.length)return n.createElement(er.rf,{error:"No root objects found. This is likely a bug - please report in #figmascope."});let o=n.createElement(nr,{appSelection:i,setAppSelection:s,onClose:r});return e?o:n.createElement(nt,null,o)});function nt({children:e}){let{name:t,metadata:r}=(0,l.md)(E.Cc);return n.createElement("div",{className:u.cx.hFull.$},n.createElement(m.Y,{direction:"vertical",width:"fill-parent",height:"fill-parent",padding:0,spacing:0},n.createElement(m.Y,{direction:"horizontal",width:"fill-parent",height:32,padding:8,spacing:32,backgroundColor:"toolbar"},t&&n.createElement(g.E,{fontWeight:"bold",color:"toolbar"},t),r&&Object.entries(r).map(([e,t])=>t&&n.createElement("span",{key:e},n.createElement(g.E,{color:"toolbar-secondary"},e,": "),n.createElement(g.E,{color:"toolbar",fontFamily:"monospace",fontWeight:"bold"},t)))),e))}function nr({onClose:e,appSelection:t,setAppSelection:r}){let u=n.useRef(null),m=n.useRef(null),{windowInnerWidth:g}=(0,a.l)(),[p,f]=(0,l.fp)(nn),[y,I]=(0,l.fp)(ni),[b,S]=(0,i.i)({onDrag(e){let t=e.clientX/g;f(`${(100*t).toFixed(2)}%`)}}),[C,v]=(0,i.i)({onDrag(e){let t=m.current;if(!t)return;let r=(e.clientX-t.getBoundingClientRect().left)/t.clientWidth;I(`${(100*r).toFixed(2)}%`)}}),T=(0,o.Xr)(O),D=(0,o.Xr)(L),N=n.useCallback(e=>{let t=u.current;document.activeElement!==t&&(e.keyCode===c.Uz.FORWARD_SLASH&&t?(t.focus(),e.preventDefault()):e.keyCode===c.Uz.BRACKET_LEFT?(s.az.trackDefinedEvent("figmascope.select_prev_next",{direction:"prev",source:"keyboard"}),T()):e.keyCode===c.Uz.BRACKET_RIGHT&&(s.az.trackDefinedEvent("figmascope.select_prev_next",{direction:"next",source:"keyboard"}),D()))},[T,D]),x=(0,l.md)(E.Cc);window.figmaScope=x,window.figmaScopeScene=x,function(e){let[t,r]=(0,l.fp)(ee);t.status===d.r.SUCCESS&&e?.setSceneGraphValidationInfo?.(t.value),(0,n.useEffect)(()=>{r()},[r])}(x);let P=(0,l.md)(_),A=(0,l.md)(w),B=(0,l.md)(K);return n.createElement(k,{appSelection:t,setAppSelection:r},n.createElement("div",{className:"main_view--root--uFXxy",style:h.sx.if(b||C,{cursor:"ew-resize"}).$,onKeyDown:N},n.createElement("div",{className:"main_view--leftHalf--D2ctr",style:{width:p}},n.createElement(re,{searchRef:u}),n.createElement(tk,{className:"main_view--leftPanel--wD96C"},n.createElement("div",{...S({style:{position:"absolute",top:0,bottom:0,right:"-3px",width:"5px",gridArea:"center",cursor:"ew-resize",zIndex:9}})}),n.createElement(tj,null))),n.createElement("div",{className:"main_view--rightHalf--t2aqF"},n.createElement(r3,{selectedObject:A,diffObject:B,onClose:e}),(A||B)&&n.createElement("div",{className:"main_view--rightPanels--Id6Dj",ref:m},n.createElement(tk,{className:"main_view--centerPanel--5lkgL",style:{width:y}},n.createElement("div",{...v({style:{position:"absolute",top:0,bottom:0,right:"-3px",width:"5px",gridArea:"center",cursor:"ew-resize",zIndex:9}})}),n.createElement(rH,{panel:"middle",items:A?.rawProperties,diffItems:B?.rawProperties,extraItems:void 0,key:P})),n.createElement(tk,{className:"main_view--rightPanel---MhPC"},n.createElement(rH,{panel:"right",items:A?.computedProperties,diffItems:B?.computedProperties,extraItems:x.getAdditionalProperties?.(P),key:P}))))))}let nn=B("leftPanelWidth","35%"),ni=B("rightPanelWidth","50%")}}]);

//# debugId=5f46720c-b3c6-5a73-a746-6f190228c27a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/f90506d1a3a1d266a2f76029f0dd6d77fc9040b0/4463-c466b362e3328858.min.js.map